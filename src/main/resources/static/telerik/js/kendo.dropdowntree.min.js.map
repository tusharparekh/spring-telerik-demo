{"version":3,"sources":["kendo.dropdowntree.js"],"names":["f","define","$","undefined","contentChild","filter","node","result","children","length","kendo","window","ui","keys","DISABLED","SELECT","CHECKED","proxy","DATABOUND","CLICK","NS","INDETERMINATE","NAVIGATE","TreeView","subGroup","Tree","extend","init","element","options","dropdowntree","that","this","_nodesToLoad","fn","call","_isMultipleSelection","wrapper","on","_clickSelectedItem","_checkOnSelect","e","isDefaultPrevented","dataItem","set","checked","_setCheckedValue","value","_click","one","currentTarget","_trigger","defaultrefresh","i","bubble","action","items","parentNode","loadOnDemand","checkChildren","checkboxes","_skip","field","level","_updateNodes","findByUid","uid","_progress","_appendItems","index","_remove","_refreshChildren","_refreshRoot","expanded","hasChildren","load","trigger","_treeViewDataBound","sender","updateIndeterminate","_previousVisible","lastChild","prev","root","last","_expanded","parent","checkAll","is","find","filterInput","_keydown","target","key","keyCode","focused","current","checkbox","first","rtl","support","isRtl","RIGHT","LEFT","_nextVisible","hasClass","expand","collapse","_enabled","DOWN","UP","altKey","HOME","END","ENTER","SPACEBAR","prop","data","_checkboxChange","ESC","_closePopup","TAB","preventDefault","select","close","refresh","skipUpdateOnBind","_checkValue","selected","_selectValue","_dropdowntree","jQuery","amd","a1","a2","a3","assign","instance","fields","idx","lastIndex","SingleSelection","MultipleSelection","Widget","ObservableArray","ObservableObject","activeElement","_activeElement","ns","HIDDENCLASS","WIDTH","browser","outerWidth","_outerWidth","DOT","READONLY","STATEDISABLED","ARIA_DISABLED","ARIA_READONLY","HOVER","FOCUSED","HOVEREVENTS","TABINDEX","OPEN","CLOSE","CHANGE","quotRegExp","DropDownTree","text","disabled","_selection","_getSelection","_focusInputHandler","_focusInput","_initial","val","_values","_noInitialValue","_isNullorUndefined","_valueMethodCalled","Array","isArray","slice","_inputTemplate","_accessors","_setTreeViewOptions","_dataSource","_initWrapper","_placeholder","_tabindex","attr","tree","tabIndex","aria-hidden","list","append","_header","_noData","_footer","_reset","_popup","popup","_popupOpen","_clearButton","_filterHeader","_treeview","_renderFooter","_checkAll","_enable","_toggleCloseVisibility","autoBind","_textAccessor","placeholder","_preselect","parents","enable","notify","treeviewOptions","dataImageUrlField","dataSpriteCssClassField","dataTextField","dataUrlField","treeview","template","rootDataSource","dataSource","HierarchicalDataSource","create","wrap","setDataSource","_isDataSourceSet","_tags","setValue","empty","span","show","_multipleTags","name","animation","autoClose","autoWidth","clearButton","dataValueField","delay","enabled","enforceMinLength","height","ignoreCase","messages","singleTag","clear","deleteTag","noData","minLength","noDataTemplate","checkAllTemplate","tagMode","valuePrimitive","footerTemplate","headerTemplate","valueTemplate","events","focus","readonly","_editable","disable","toggle","open","_toggle","_isFilterEnabled","_search","fetch","visible","_allowOpening","addClass","_hovered","search","word","clearTimeout","_typingTimeout","_getFilter","_filtering","operator","flatView","_renderNoData","setOptions","css","destroy","off","_clear","_inputWrapper","tagList","unbind","_form","_resetHandler","_filter","_setValue","loweredText","toLowerCase","_selectItemByText","header","_angularElement","remove","prepend","angular","elements","appendTo","html","footer","_adjustListWidth","computedStyle","computedWidth","width","style","getComputedStyle","parseFloat","msie","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","fontFamily","minWidth","whiteSpace","formId","form","closest","setTimeout","Popup","anchor","_openHandler","_closeHandler","autosize","toggleClass","_currentValue","currentValue","_value","alreadyAddedTag","itemToAdd","itemToRemove","indexOfValue","isMultiple","_level","indexOf","grep","item","_tagUid","toJSON","push","hide","_treeViewCheckAllCheck","splice","_preventChangeTrigger","position","_updateSelectedOptions","selectedItems","tagName","_option","_text","dataValue","dataText","option","replace","htmlEncode","_accessor","_clearClick","stopPropagation","_clearTextAndValue","_clearInput","_clearText","_clearValue","useWithBlock","_assignInstance","split","getElements","removeClass","isPlainObject","get","getter","textField","valueField","getterFunction","count","levels","map","x","d","Math","min","_accessorInput","clearTitle","role","insertAfter","isReadOnly","hasValue","valueDoesNotEqualPlaceHolder","_hideClear","_showClear","guid","bind","rootItems","rootItem","subItems","_prev","_deselectItem","_checkLoadedItems","_valueComparer","_checkLoadedItem","_getAllChecked","_checkCheckAll","_uncheckCheckAll","checkAllCheckbox","_allItemsAreChecked","_allItemsAreUnchecked","icon","_disableCheckChildren","title","aria-haspopup","aria-expanded","_filterChange","insertBefore","add","_clickCheckAll","_changeCheckAll","_keydownCheckAll","_disabledCheckedItems","_disabledUnCheckedItems","isChecked","_updateCheckAll","_toggleCheckAllItems","edge","_dfs","_traverceChildren","_uncheckItemByUid","_uncheckItemEqualsUid","_itemEqualsText","_selectItemByValue","_itemEqualsValue","_checkItemByValue","dataItems","_checkItemEqualsValue","itemText","newValue","itemValue","_allCheckedItems","_getAllCheckedItems","childrenField","_childrenOptions","schema","_checkAllCheckItem","dropDownWrapper","removeAttr","_focusinHandler","_focusoutHandler","_toggleHover","_wrapperClick","_removeTagClick","_prevent","_focused","type","preventScroll","_ie11PreventScrollOnFocus","version","_toggleResize","isFilterInputActive","isWrapperActive","tagItem","isPopupVisible","_focusPrevTag","_focusNextTag","_focusFirstTag","_focusLastTag","DELETE","_removeTag","BACKSPACE","_clearFilter","activedescendant","next","firstTag","_clearDisabledTag","lastTag","parentElement","plugin","Class","view","_wrapper","_span","DOMelement","cssText","className","accesskey","unselectable","SELECTOR","firstChild","_arrow","_arrowIcon","selectedNode","tempItem","_tagTemplate","_tagList","valueToSelect","tagTemplate","aria-activedescendant","_innerWrapper","tagCollection","viewModel","observable","multipleTag","tags","oldValues","_removeValues","j","removedValues","_getNewValues","tagsArray","_findTag","tempItemValue"],"mappings":"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","file":"kendo.dropdowntree.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('dropdowntree/treeview', ['kendo.treeview'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, keys = kendo.keys, DISABLED = 'k-state-disabled', SELECT = 'select', CHECKED = 'checked', proxy = $.proxy, DATABOUND = 'dataBound', CLICK = 'click', NS = '.kendoTreeView', INDETERMINATE = 'indeterminate', NAVIGATE = 'navigate', subGroup, TreeView = ui.TreeView;\n        function contentChild(filter) {\n            return function (node) {\n                var result = node.children('.k-animation-container');\n                if (!result.length) {\n                    result = node;\n                }\n                return result.children(filter);\n            };\n        }\n        subGroup = contentChild('.k-group');\n        var Tree = TreeView.extend({\n            init: function (element, options, dropdowntree) {\n                var that = this;\n                that.dropdowntree = dropdowntree;\n                that._nodesToLoad = 0;\n                TreeView.fn.init.call(that, element, options);\n                if (that.dropdowntree._isMultipleSelection()) {\n                    that.wrapper.on(CLICK + NS, '.k-in.k-state-selected', proxy(that._clickSelectedItem, that));\n                }\n            },\n            _checkOnSelect: function (e) {\n                if (!e.isDefaultPrevented()) {\n                    var dataItem = this.dataItem(e.node);\n                    dataItem.set('checked', !dataItem.checked);\n                }\n            },\n            _setCheckedValue: function (node, value) {\n                node.set(CHECKED, value);\n            },\n            _click: function (e) {\n                var that = this;\n                if (that.dropdowntree._isMultipleSelection()) {\n                    that.one('select', that._checkOnSelect);\n                }\n                TreeView.fn._click.call(that, e);\n            },\n            _clickSelectedItem: function (e) {\n                var that = this, node = $(e.currentTarget);\n                that.one('select', that._checkOnSelect);\n                if (!that._trigger(SELECT, node)) {\n                    that.dataItem(node).set('selected', false);\n                }\n            },\n            defaultrefresh: function (e) {\n                var that = this;\n                var node = e.node;\n                var action = e.action;\n                var items = e.items;\n                var parentNode = this.wrapper;\n                var options = this.options;\n                var loadOnDemand = options.loadOnDemand;\n                var checkChildren = options.checkboxes && options.checkboxes.checkChildren;\n                var i;\n                if (this._skip) {\n                    return;\n                }\n                if (e.field) {\n                    if (!items[0] || !items[0].level) {\n                        return;\n                    }\n                    return this._updateNodes(items, e.field);\n                }\n                if (node) {\n                    parentNode = this.findByUid(node.uid);\n                    this._progress(parentNode, false);\n                }\n                if (checkChildren && action != 'remove') {\n                    var bubble = false;\n                    for (i = 0; i < items.length; i++) {\n                        if ('checked' in items[i]) {\n                            bubble = true;\n                            break;\n                        }\n                    }\n                    if (!bubble && node && node.checked) {\n                        for (i = 0; i < items.length; i++) {\n                            items[i].checked = true;\n                        }\n                    }\n                }\n                if (action == 'add') {\n                    this._appendItems(e.index, items, parentNode);\n                } else if (action == 'remove') {\n                    this._remove(this.findByUid(items[0].uid), false);\n                } else if (action == 'itemchange') {\n                    this._updateNodes(items);\n                } else if (action == 'itemloaded') {\n                    this._nodesToLoad--;\n                    this._refreshChildren(parentNode, items, e.index);\n                } else {\n                    this._refreshRoot(items);\n                }\n                if (action != 'remove') {\n                    for (i = 0; i < items.length; i++) {\n                        if (!loadOnDemand || items[i].expanded) {\n                            if (items[i].hasChildren) {\n                                that._nodesToLoad++;\n                            }\n                            items[i].load();\n                        }\n                    }\n                }\n                if (this._nodesToLoad === 0) {\n                    this.dropdowntree.trigger('allNodesAreLoaded');\n                }\n                this.trigger(DATABOUND, { node: node ? parentNode : undefined });\n                this.dropdowntree._treeViewDataBound({\n                    node: node ? parentNode : undefined,\n                    sender: this\n                });\n                if (this.options.checkboxes.checkChildren) {\n                    this.updateIndeterminate();\n                }\n            },\n            _previousVisible: function (node) {\n                var that = this, lastChild, result;\n                if (!node.length || node.prev().length) {\n                    if (node.length) {\n                        result = node.prev();\n                    } else {\n                        result = that.root.children().last();\n                    }\n                    while (that._expanded(result)) {\n                        lastChild = subGroup(result).children().last();\n                        if (!lastChild.length) {\n                            break;\n                        }\n                        result = lastChild;\n                    }\n                } else {\n                    result = that.parent(node) || node;\n                    if (!result.length) {\n                        if (that.dropdowntree.checkAll && that.dropdowntree.checkAll.is(':visible')) {\n                            that.dropdowntree.checkAll.find('.k-checkbox').trigger('focus');\n                        } else if (that.dropdowntree.filterInput) {\n                            that.dropdowntree.filterInput.trigger('focus');\n                        } else {\n                            that.dropdowntree.wrapper.trigger('focus');\n                        }\n                    }\n                }\n                return result;\n            },\n            _keydown: function (e) {\n                var that = this, key = e.keyCode, target, focused = that.current(), expanded = that._expanded(focused), checkbox = focused.find('.k-checkbox-wrapper').first().find(':checkbox'), rtl = kendo.support.isRtl(that.element);\n                if (e.target != e.currentTarget) {\n                    return;\n                }\n                if (!rtl && key == keys.RIGHT || rtl && key == keys.LEFT) {\n                    if (expanded) {\n                        target = that._nextVisible(focused);\n                    } else if (!focused.find('.k-in').first().hasClass(DISABLED)) {\n                        that.expand(focused);\n                    }\n                } else if (!rtl && key == keys.LEFT || rtl && key == keys.RIGHT) {\n                    if (expanded && !focused.find('.k-in').first().hasClass(DISABLED)) {\n                        that.collapse(focused);\n                    } else {\n                        target = that.parent(focused);\n                        if (!that._enabled(target)) {\n                            target = undefined;\n                        }\n                    }\n                } else if (key == keys.DOWN) {\n                    target = that._nextVisible(focused);\n                } else if (key == keys.UP && !e.altKey) {\n                    target = that._previousVisible(focused);\n                } else if (key == keys.HOME) {\n                    target = that._nextVisible($());\n                } else if (key == keys.END) {\n                    target = that._previousVisible($());\n                } else if (key == keys.ENTER && !focused.find('.k-in').first().hasClass(DISABLED)) {\n                    if (!focused.find('.k-in').first().hasClass('k-state-selected')) {\n                        if (!that._trigger(SELECT, focused)) {\n                            that.select(focused);\n                        }\n                    }\n                } else if (key == keys.SPACEBAR && checkbox.length && !focused.find('.k-in').first().hasClass(DISABLED)) {\n                    checkbox.prop(CHECKED, !checkbox.prop(CHECKED)).data(INDETERMINATE, false).prop(INDETERMINATE, false);\n                    that._checkboxChange({ target: checkbox });\n                    target = focused;\n                } else if (e.altKey && key === keys.UP || key === keys.ESC) {\n                    that._closePopup();\n                } else if (key === keys.TAB) {\n                    e.preventDefault();\n                    that._closePopup();\n                }\n                if (target) {\n                    e.preventDefault();\n                    if (focused[0] != target[0]) {\n                        that._trigger(NAVIGATE, target);\n                        that.current(target);\n                    }\n                }\n            },\n            _closePopup: function () {\n                this.dropdowntree.close();\n                this.dropdowntree.wrapper.trigger('focus');\n            },\n            refresh: function (e) {\n                this.defaultrefresh(e);\n                if (this.dropdowntree.options.skipUpdateOnBind) {\n                    return;\n                }\n                if (e.action === 'itemchange') {\n                    if (this.dropdowntree._isMultipleSelection()) {\n                        if (e.field === 'checked') {\n                            this.dropdowntree._checkValue(e.items[0]);\n                        }\n                    } else {\n                        if (e.field !== 'checked' && e.field !== 'expanded' && e.items[0].selected) {\n                            this.dropdowntree._selectValue(e.items[0]);\n                        }\n                    }\n                } else {\n                    this.dropdowntree.refresh(e);\n                }\n            }\n        });\n        kendo.ui._dropdowntree = Tree;\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.dropdowntree', [\n        'dropdowntree/treeview',\n        'kendo.popup'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'dropdowntree',\n        name: 'DropDownTree',\n        category: 'web',\n        description: 'The DropDownTree widget displays a hierarchy of items and allows the selection of single or multiple items.',\n        depends: [\n            'treeview',\n            'popup'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, Widget = ui.Widget, TreeView = ui._dropdowntree, ObservableArray = kendo.data.ObservableArray, ObservableObject = kendo.data.ObservableObject, extend = $.extend, activeElement = kendo._activeElement, ns = '.kendoDropDownTree', keys = kendo.keys, support = kendo.support, HIDDENCLASS = 'k-hidden', WIDTH = 'width', browser = support.browser, outerWidth = kendo._outerWidth, DOT = '.', DISABLED = 'disabled', READONLY = 'readonly', STATEDISABLED = 'k-state-disabled', ARIA_DISABLED = 'aria-disabled', ARIA_READONLY = 'aria-readonly', HOVER = 'k-state-hover', FOCUSED = 'k-state-focused', HOVEREVENTS = 'mouseenter' + ns + ' mouseleave' + ns, TABINDEX = 'tabindex', CLICK = 'click', OPEN = 'open', CLOSE = 'close', CHANGE = 'change', quotRegExp = /\"/g, proxy = $.proxy;\n        var DropDownTree = kendo.ui.Widget.extend({\n            init: function (element, options) {\n                this.ns = ns;\n                kendo.ui.Widget.fn.init.call(this, element, options);\n                this._selection = this._getSelection();\n                this._focusInputHandler = $.proxy(this._focusInput, this);\n                this._initial = this.element.val();\n                this._values = [];\n                var value = this.options.value;\n                if (value === null || !value.length) {\n                    this._noInitialValue = true;\n                }\n                if (!this._isNullorUndefined(value)) {\n                    this._valueMethodCalled = true;\n                    this._values = Array.isArray(value) ? value.slice(0) : [value];\n                }\n                this._inputTemplate();\n                this._accessors();\n                this._setTreeViewOptions(this.options);\n                this._dataSource();\n                this._selection._initWrapper();\n                this._placeholder(true);\n                this._tabindex();\n                this.wrapper.data(TABINDEX, this.wrapper.attr(TABINDEX));\n                this.tree = $('<div/>').attr({\n                    tabIndex: -1,\n                    'aria-hidden': true\n                });\n                this.list = $('<div class=\\'k-list-container\\'/>').append(this.tree);\n                this._header();\n                this._noData();\n                this._footer();\n                this._reset();\n                this._popup();\n                this.popup.one('open', proxy(this._popupOpen, this));\n                this._clearButton();\n                this._filterHeader();\n                this._treeview();\n                this._renderFooter();\n                this._checkAll();\n                this._enable();\n                this._toggleCloseVisibility();\n                if (!this.options.autoBind) {\n                    var text = options.text || '';\n                    if (!this._isNullorUndefined(options.value)) {\n                        this._preselect(options.value);\n                    } else if (text) {\n                        this._textAccessor(text);\n                    } else if (options.placeholder) {\n                        this._placeholder(true);\n                    }\n                }\n                var disabled = $(this.element).parents('fieldset').is(':disabled');\n                if (disabled) {\n                    this.enable(false);\n                }\n                this._valueMethodCalled = false;\n                kendo.notify(this);\n            },\n            _preselect: function (data, value) {\n                this._selection._preselect(data, value);\n            },\n            _setTreeViewOptions: function (options) {\n                var treeviewOptions = {\n                    autoBind: options.autoBind,\n                    checkboxes: options.checkboxes,\n                    dataImageUrlField: options.dataImageUrlField,\n                    dataSpriteCssClassField: options.dataSpriteCssClassField,\n                    dataTextField: options.dataTextField,\n                    dataUrlField: options.dataUrlField,\n                    loadOnDemand: options.loadOnDemand\n                };\n                this.options.treeview = $.extend({}, treeviewOptions, this.options.treeview);\n                if (options.template) {\n                    this.options.treeview.template = options.template;\n                }\n            },\n            _dataSource: function () {\n                var rootDataSource = this.options.dataSource;\n                this.dataSource = kendo.data.HierarchicalDataSource.create(rootDataSource);\n                if (rootDataSource) {\n                    $.extend(this.options.treeview, { dataSource: this.dataSource });\n                }\n            },\n            _popupOpen: function () {\n                var popup = this.popup;\n                popup.wrapper = kendo.wrap(popup.element);\n            },\n            _getSelection: function () {\n                if (this._isMultipleSelection()) {\n                    return new ui.DropDownTree.MultipleSelection(this);\n                } else {\n                    return new ui.DropDownTree.SingleSelection(this);\n                }\n            },\n            setDataSource: function (dataSource) {\n                this._isDataSourceSet = true;\n                if (this._tags) {\n                    this._noInitialValue = true;\n                    this.setValue([]);\n                    this._tags.empty();\n                    this.span.show();\n                    this._multipleTags.empty();\n                }\n                this.dataSource = dataSource;\n                this.treeview.setDataSource(dataSource);\n                this._isDataSourceSet = false;\n            },\n            _isMultipleSelection: function () {\n                return this.options && (this.options.treeview.checkboxes || this.options.checkboxes);\n            },\n            options: {\n                name: 'DropDownTree',\n                animation: {},\n                autoBind: true,\n                autoClose: true,\n                autoWidth: false,\n                clearButton: true,\n                dataTextField: '',\n                dataValueField: '',\n                dataImageUrlField: '',\n                dataSpriteCssClassField: '',\n                dataUrlField: '',\n                delay: 500,\n                enabled: true,\n                enforceMinLength: false,\n                filter: 'none',\n                height: 200,\n                ignoreCase: true,\n                index: 0,\n                loadOnDemand: false,\n                messages: {\n                    'singleTag': 'item(s) selected',\n                    'clear': 'clear',\n                    'deleteTag': 'delete',\n                    'noData': 'No data found.'\n                },\n                minLength: 1,\n                checkboxes: false,\n                noDataTemplate: true,\n                placeholder: '',\n                checkAll: false,\n                checkAllTemplate: 'Check all',\n                tagMode: 'multiple',\n                template: null,\n                text: null,\n                treeview: {},\n                valuePrimitive: false,\n                footerTemplate: '',\n                headerTemplate: '',\n                value: null,\n                valueTemplate: null,\n                popup: null\n            },\n            events: [\n                'open',\n                'close',\n                'dataBound',\n                CHANGE,\n                'select',\n                'filtering'\n            ],\n            focus: function () {\n                this.wrapper.trigger('focus');\n            },\n            dataItem: function (node) {\n                return this.treeview.dataItem(node);\n            },\n            readonly: function (readonly) {\n                this._editable({\n                    readonly: readonly === undefined ? true : readonly,\n                    disable: false\n                });\n                this._toggleCloseVisibility();\n            },\n            enable: function (enable) {\n                this._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined ? true : enable)\n                });\n                this._toggleCloseVisibility();\n            },\n            toggle: function (open) {\n                this._toggle(open);\n            },\n            open: function () {\n                var popup = this.popup;\n                if (!this.options.autoBind && !this.dataSource.data().length) {\n                    this.treeview._progress(true);\n                    if (this._isFilterEnabled()) {\n                        this._search();\n                    } else {\n                        this.dataSource.fetch();\n                    }\n                }\n                if (popup.visible() || !this._allowOpening()) {\n                    return;\n                }\n                if (this._isMultipleSelection()) {\n                    popup.element.addClass('k-multiple-selection');\n                }\n                popup.element.addClass('k-popup-dropdowntree');\n                popup.one('activate', this._focusInputHandler);\n                popup._hovered = true;\n                popup.open();\n            },\n            close: function () {\n                this.popup.close();\n            },\n            search: function (word) {\n                var options = this.options;\n                var filter;\n                clearTimeout(this._typingTimeout);\n                if (!options.enforceMinLength && !word.length || word.length >= options.minLength) {\n                    filter = this._getFilter(word);\n                    if (this.trigger('filtering', { filter: filter }) || Array.isArray(this.options.dataTextField)) {\n                        return;\n                    }\n                    this._filtering = true;\n                    this.treeview.dataSource.filter(filter);\n                }\n            },\n            _getFilter: function (word) {\n                return {\n                    field: this.options.dataTextField,\n                    operator: this.options.filter,\n                    value: word,\n                    ignoreCase: this.options.ignoreCase\n                };\n            },\n            refresh: function () {\n                var data = this.treeview.dataSource.flatView();\n                this._renderFooter();\n                this._renderNoData();\n                if (this.filterInput && this.checkAll) {\n                    this.checkAll.toggle(!this.filterInput.val().length);\n                }\n                this.tree.toggle(!!data.length);\n                $(this.noData).toggle(!data.length);\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                this._setTreeViewOptions(options);\n                this._dataSource();\n                if (this.options.treeview) {\n                    this.treeview.setOptions(this.options.treeview);\n                }\n                if (options.height && this.tree) {\n                    this.tree.css('max-height', options.height);\n                }\n                this._header();\n                this._noData();\n                this._footer();\n                this._renderFooter();\n                this._renderNoData();\n                if (this.span && (this._isMultipleSelection() || this.span.hasClass('k-readonly'))) {\n                    this._placeholder(true);\n                }\n                this._inputTemplate();\n                this._accessors();\n                this._filterHeader();\n                this._checkAll();\n                this._enable();\n                if (options && (options.enable || options.enabled)) {\n                    this.enable(true);\n                }\n                this._clearButton();\n            },\n            destroy: function () {\n                kendo.ui.Widget.fn.destroy.call(this);\n                if (this.treeview) {\n                    this.treeview.destroy();\n                }\n                this.popup.destroy();\n                this.wrapper.off(ns);\n                this._clear.off(ns);\n                this._inputWrapper.off(ns);\n                if (this.filterInput) {\n                    this.filterInput.off(ns);\n                }\n                if (this.tagList) {\n                    this.tagList.off(ns);\n                }\n                kendo.unbind(this.tagList);\n                if (this.options.checkAll && this.checkAll) {\n                    this.checkAll.off(ns);\n                }\n                if (this._form) {\n                    this._form.off('reset', this._resetHandler);\n                }\n            },\n            setValue: function (value) {\n                value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n                this._values = value;\n            },\n            items: function () {\n                return this.treeview.items();\n            },\n            value: function (value) {\n                var that = this;\n                if (value) {\n                    if (that.filterInput && that.dataSource._filter) {\n                        that._filtering = true;\n                        that.dataSource.filter({});\n                    } else if (!that.dataSource.data().length || !that.treeview.dataSource.data().length) {\n                        that.dataSource.fetch(function () {\n                            if (that.options.loadOnDemand) {\n                                that._selection._setValue(value);\n                            } else {\n                                that.one('allNodesAreLoaded', function () {\n                                    that._selection._setValue(value);\n                                });\n                            }\n                        });\n                        return;\n                    }\n                }\n                return that._selection._setValue(value);\n            },\n            text: function (text) {\n                var loweredText;\n                var ignoreCase = this.options.ignoreCase;\n                text = text === null ? '' : text;\n                if (text !== undefined && !this._isMultipleSelection()) {\n                    if (typeof text !== 'string') {\n                        this._textAccessor(text);\n                        return;\n                    }\n                    loweredText = ignoreCase ? text : text.toLowerCase();\n                    this._selectItemByText(loweredText);\n                    this._textAccessor(loweredText);\n                } else {\n                    return this._textAccessor();\n                }\n            },\n            _header: function () {\n                var list = this;\n                var header = $(list.header);\n                var template = list.options.headerTemplate;\n                this._angularElement(header, 'cleanup');\n                kendo.destroy(header);\n                header.remove();\n                if (!template) {\n                    list.header = null;\n                    return;\n                }\n                var headerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n                header = $(headerTemplate({}));\n                list.header = header[0] ? header : null;\n                list.list.prepend(header);\n                this._angularElement(list.header, 'compile');\n            },\n            _noData: function () {\n                var list = this;\n                var noData = $(list.noData);\n                var template = list.options.noDataTemplate === true ? list.options.messages.noData : list.options.noDataTemplate;\n                list.angular('cleanup', function () {\n                    return { elements: noData };\n                });\n                kendo.destroy(noData);\n                noData.remove();\n                if (!template) {\n                    list.noData = null;\n                    return;\n                }\n                list.noData = $('<div class=\"k-nodata\" style=\"display:none\"><div></div></div>').appendTo(list.list);\n                list.noDataTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _renderNoData: function () {\n                var list = this;\n                var noData = list.noData;\n                if (!noData) {\n                    return;\n                }\n                this._angularElement(noData, 'cleanup');\n                noData.children().first().html(list.noDataTemplate({ instance: list }));\n                this._angularElement(noData, 'compile');\n            },\n            _footer: function () {\n                var list = this;\n                var footer = $(list.footer);\n                var template = list.options.footerTemplate;\n                this._angularElement(footer, 'cleanup');\n                kendo.destroy(footer);\n                footer.remove();\n                if (!template) {\n                    list.footer = null;\n                    return;\n                }\n                list.footer = $('<div class=\"k-footer\"></div>').appendTo(list.list);\n                list.footerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _renderFooter: function () {\n                var list = this;\n                var footer = list.footer;\n                if (!footer) {\n                    return;\n                }\n                this._angularElement(footer, 'cleanup');\n                footer.html(list.footerTemplate({ instance: list }));\n                this._angularElement(footer, 'compile');\n            },\n            _enable: function () {\n                var that = this, options = that.options, disabled = that.element.is('[disabled]');\n                if (options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n                if (!options.enabled || disabled) {\n                    that.enable(false);\n                } else {\n                    that.readonly(that.element.is('[readonly]'));\n                }\n            },\n            _adjustListWidth: function () {\n                var that = this, list = that.list, width = list[0].style.width, wrapper = that.wrapper, computedStyle, computedWidth;\n                if (!list.data(WIDTH) && width) {\n                    return;\n                }\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n                computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n                if (computedStyle && browser.msie) {\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n                }\n                if (list.css('box-sizing') !== 'border-box') {\n                    width = computedWidth - (outerWidth(list) - list.width());\n                } else {\n                    width = computedWidth;\n                }\n                list.css({\n                    fontFamily: wrapper.css('font-family'),\n                    width: that.options.autoWidth ? 'auto' : width,\n                    minWidth: width,\n                    whiteSpace: that.options.autoWidth ? 'nowrap' : 'normal'\n                }).data(WIDTH, width);\n                return true;\n            },\n            _reset: function () {\n                var that = this, element = that.element, formId = element.attr('form'), form = formId ? $('#' + formId) : element.closest('form');\n                if (form[0]) {\n                    that._resetHandler = function () {\n                        setTimeout(function () {\n                            that.value(that._initial);\n                        });\n                    };\n                    that._form = form.on('reset', that._resetHandler);\n                }\n            },\n            _popup: function () {\n                var list = this;\n                list.popup = new ui.Popup(list.list, extend({}, list.options.popup, {\n                    anchor: list.wrapper,\n                    open: proxy(list._openHandler, list),\n                    close: proxy(list._closeHandler, list),\n                    animation: list.options.animation,\n                    isRtl: support.isRtl(list.wrapper),\n                    autosize: list.options.autoWidth\n                }));\n            },\n            _angularElement: function (element, action) {\n                if (!element) {\n                    return;\n                }\n                this.angular(action, function () {\n                    return { elements: element };\n                });\n            },\n            _allowOpening: function () {\n                return this.options.noDataTemplate || this.treeview.dataSource.flatView().length;\n            },\n            _placeholder: function (show) {\n                if (this.span) {\n                    this.span.toggleClass('k-readonly', show).text(show ? this.options.placeholder : '');\n                }\n            },\n            _currentValue: function (dataItem) {\n                var currentValue = this._value(dataItem);\n                if (!currentValue && currentValue !== 0) {\n                    currentValue = dataItem;\n                }\n                return currentValue;\n            },\n            _checkValue: function (dataItem) {\n                var value = '';\n                var indexOfValue = -1;\n                var currentValue = this.value();\n                var isMultiple = this.options.tagMode === 'multiple';\n                if (dataItem || dataItem === 0) {\n                    if (dataItem.level) {\n                        dataItem._level = dataItem.level();\n                    }\n                    value = this._currentValue(dataItem);\n                    indexOfValue = currentValue.indexOf(value);\n                }\n                if (dataItem.checked) {\n                    var alreadyAddedTag = $.grep(this._tags, function (item) {\n                        return item.uid === dataItem._tagUid;\n                    });\n                    if (alreadyAddedTag.length) {\n                        return;\n                    }\n                    var itemToAdd = new ObservableObject(dataItem.toJSON());\n                    dataItem._tagUid = itemToAdd.uid;\n                    this._tags.push(itemToAdd);\n                    if (this._tags.length === 1) {\n                        this.span.hide();\n                        if (!isMultiple) {\n                            this._multipleTags.push(itemToAdd);\n                        }\n                    }\n                    if (indexOfValue === -1) {\n                        currentValue.push(value);\n                        this.setValue(currentValue);\n                    }\n                } else {\n                    var itemToRemove = this._tags.find(function (item) {\n                        return item.uid === dataItem._tagUid;\n                    });\n                    var idx = this._tags.indexOf(itemToRemove);\n                    if (idx !== -1) {\n                        this._tags.splice(idx, 1);\n                    } else {\n                        this._treeViewCheckAllCheck(dataItem);\n                        return;\n                    }\n                    if (this._tags.length === 0) {\n                        this.span.show();\n                        if (!isMultiple) {\n                            this._multipleTags.splice(0, 1);\n                        }\n                    }\n                    if (indexOfValue !== -1) {\n                        currentValue.splice(indexOfValue, 1);\n                        this.setValue(currentValue);\n                    }\n                }\n                this._treeViewCheckAllCheck(dataItem);\n                if (!this._preventChangeTrigger && !this._valueMethodCalled && !this._noInitialValue) {\n                    this.trigger(CHANGE);\n                }\n                if (this.options.autoClose && this.popup.visible()) {\n                    this.close();\n                    this.wrapper.trigger('focus');\n                }\n                this.popup.position();\n                this._toggleCloseVisibility();\n                this._updateSelectedOptions();\n            },\n            _updateSelectedOptions: function () {\n                if (this.element[0].tagName.toLowerCase() !== 'select') {\n                    return;\n                }\n                var selectedItems = this._tags;\n                var options = '';\n                var dataItem = null;\n                var value = null;\n                if (selectedItems.length) {\n                    for (var idx = 0; idx < selectedItems.length; idx++) {\n                        dataItem = selectedItems[idx];\n                        value = this._value(dataItem);\n                        options += this._option(value, this._text(dataItem), true);\n                    }\n                }\n                this.element.html(options);\n            },\n            _option: function (dataValue, dataText, selected) {\n                var option = '<option';\n                if (dataValue !== undefined) {\n                    dataValue += '';\n                    if (dataValue.indexOf('\"') !== -1) {\n                        dataValue = dataValue.replace(quotRegExp, '&quot;');\n                    }\n                    option += ' value=\"' + dataValue + '\"';\n                }\n                if (selected) {\n                    option += ' selected';\n                }\n                option += '>';\n                if (dataText !== undefined) {\n                    option += kendo.htmlEncode(dataText);\n                }\n                return option += '</option>';\n            },\n            _selectValue: function (dataItem) {\n                var value = '';\n                var text = '';\n                if (dataItem || dataItem === 0) {\n                    if (dataItem.level) {\n                        dataItem._level = dataItem.level();\n                    }\n                    text = this._text(dataItem) || dataItem;\n                    value = this._currentValue(dataItem);\n                }\n                if (value === null) {\n                    value = '';\n                }\n                this.setValue(value);\n                this._textAccessor(text, dataItem);\n                this._accessor(value);\n                if (!this._preventChangeTrigger && !this._valueMethodCalled) {\n                    this.trigger(CHANGE);\n                }\n                this._valueMethodCalled = false;\n                if (this.options.autoClose && this.popup.visible()) {\n                    this.close();\n                    this.wrapper.trigger('focus');\n                }\n                this.popup.position();\n                this._toggleCloseVisibility();\n            },\n            _clearClick: function (e) {\n                e.stopPropagation();\n                this.wrapper.trigger('focus');\n                this._clearTextAndValue();\n            },\n            _clearTextAndValue: function () {\n                this.setValue([]);\n                this._clearInput();\n                this._clearText();\n                this._selection._clearValue();\n                this.popup.position();\n                this._toggleCloseVisibility();\n            },\n            _clearText: function () {\n                if (this.options.placeholder) {\n                    this._placeholder(true);\n                } else {\n                    if (this.span) {\n                        this.span.html('');\n                    }\n                }\n            },\n            _inputTemplate: function () {\n                var template = this.options.valueTemplate;\n                if (!template) {\n                    template = $.proxy(kendo.template('#:this._text(data)#', { useWithBlock: false }), this);\n                } else {\n                    template = kendo.template(template);\n                }\n                this.valueTemplate = template;\n            },\n            _assignInstance: function (text, value) {\n                var dataTextField = this.options.dataTextField;\n                var dataItem = {};\n                if (dataTextField) {\n                    assign(dataItem, dataTextField.split(DOT), text);\n                    assign(dataItem, this.options.dataValueField.split(DOT), value);\n                    dataItem = new ObservableObject(dataItem);\n                } else {\n                    dataItem = text;\n                }\n                return dataItem;\n            },\n            _textAccessor: function (text, dataItem) {\n                var valueTemplate = this.valueTemplate;\n                var span = this.span;\n                if (text === undefined) {\n                    return span.text();\n                }\n                span.removeClass('k-readonly');\n                if (!dataItem && ($.isPlainObject(text) || text instanceof ObservableObject)) {\n                    dataItem = text;\n                }\n                if (!dataItem) {\n                    dataItem = this._assignInstance(text, this._accessor());\n                }\n                var getElements = function () {\n                    return {\n                        elements: span.get(),\n                        data: [{ dataItem: dataItem }]\n                    };\n                };\n                this.angular('cleanup', getElements);\n                try {\n                    span.html(valueTemplate(dataItem));\n                } catch (e) {\n                    if (span) {\n                        span.html('');\n                    }\n                }\n                this.angular('compile', getElements);\n            },\n            _accessors: function () {\n                var element = this.element;\n                var options = this.options;\n                var getter = kendo.getter;\n                var textField = element.attr(kendo.attr('text-field'));\n                var valueField = element.attr(kendo.attr('value-field'));\n                var getterFunction = function (field) {\n                    if (Array.isArray(field)) {\n                        var count = field.length;\n                        var levels = $.map(field, function (x) {\n                            return function (d) {\n                                return d[x];\n                            };\n                        });\n                        return function (dataItem) {\n                            var level = dataItem._level;\n                            if (!level && level !== 0) {\n                                return;\n                            }\n                            return levels[Math.min(level, count - 1)](dataItem);\n                        };\n                    } else {\n                        return getter(field);\n                    }\n                };\n                if (!options.dataTextField && textField) {\n                    options.dataTextField = textField;\n                }\n                if (!options.dataValueField && valueField) {\n                    options.dataValueField = valueField;\n                }\n                options.dataTextField = options.dataTextField || 'text';\n                options.dataValueField = options.dataValueField || 'value';\n                this._text = getterFunction(options.dataTextField);\n                this._value = getterFunction(options.dataValueField);\n            },\n            _accessor: function (value, idx) {\n                return this._accessorInput(value, idx);\n            },\n            _accessorInput: function (value) {\n                var element = this.element[0];\n                if (value === undefined) {\n                    return element.value;\n                } else {\n                    if (value === null) {\n                        value = '';\n                    }\n                    element.value = value;\n                }\n            },\n            _clearInput: function () {\n                var element = this.element[0];\n                element.value = '';\n            },\n            _clearButton: function () {\n                var clearTitle = this.options.messages.clear;\n                if (!this._clear) {\n                    this._clear = $('<span unselectable=\"on\" class=\"k-clear-value\" title=\"' + clearTitle + '\"><span class=\"k-icon k-i-x\"></span></span>').attr({\n                        'role': 'button',\n                        'tabIndex': -1\n                    });\n                }\n                if (this.options.clearButton) {\n                    this._clear.insertAfter(this.span);\n                    this.wrapper.addClass('k-dropdowntree-clearable');\n                } else {\n                    if (!this.options.clearButton) {\n                        this._clear.remove();\n                    }\n                }\n            },\n            _toggleCloseVisibility: function () {\n                var isReadOnly = this.element.attr(READONLY);\n                var hasValue = this.value() && !this._isMultipleSelection() || this.value().length;\n                var valueDoesNotEqualPlaceHolder = this.element.val() && this.element.val() !== this.options.placeholder;\n                if (!isReadOnly && (hasValue || valueDoesNotEqualPlaceHolder)) {\n                    this._showClear();\n                } else {\n                    this._hideClear();\n                }\n            },\n            _showClear: function () {\n                if (this._clear) {\n                    this._clear.removeClass(HIDDENCLASS);\n                }\n            },\n            _hideClear: function () {\n                if (this._clear) {\n                    this._clear.addClass(HIDDENCLASS);\n                }\n            },\n            _openHandler: function (e) {\n                this._adjustListWidth();\n                if (this.trigger(OPEN)) {\n                    e.preventDefault();\n                } else {\n                    this.wrapper.attr('aria-expanded', true);\n                    this.tree.attr('aria-hidden', false).attr('role', 'tree');\n                }\n            },\n            _closeHandler: function (e) {\n                if (this.trigger(CLOSE)) {\n                    e.preventDefault();\n                } else {\n                    this.wrapper.attr('aria-expanded', false);\n                    this.tree.attr('aria-hidden', true);\n                }\n            },\n            _treeview: function () {\n                var that = this;\n                if (that.options.height) {\n                    that.tree.css('max-height', that.options.height);\n                }\n                that.tree.attr('id', kendo.guid());\n                that.treeview = new TreeView(that.tree, extend({}, that.options.treeview), that);\n                that.dataSource = that.treeview.dataSource;\n                that.treeview.bind('select', function (e) {\n                    that.trigger('select', e);\n                });\n            },\n            _treeViewDataBound: function (e) {\n                if (e.node && this._prev && this._prev.length) {\n                    e.sender.expand(e.node);\n                }\n                if (this._filtering) {\n                    if (!e.node) {\n                        this._filtering = false;\n                    }\n                    if (!this._isMultipleSelection()) {\n                        this._deselectItem(e);\n                    }\n                    return;\n                }\n                if (!this.treeview) {\n                    this.treeview = e.sender;\n                }\n                if (!e.node) {\n                    var rootItems = e.sender.dataSource.data();\n                    this._checkLoadedItems(rootItems);\n                    if (this._noInitialValue) {\n                        this._noInitialValue = false;\n                    }\n                } else {\n                    var rootItem = e.sender.dataItem(e.node);\n                    if (rootItem) {\n                        var subItems = rootItem.children.data();\n                        this._checkLoadedItems(subItems);\n                    }\n                }\n                this.trigger('dataBound', e);\n            },\n            _deselectItem: function (e) {\n                var items = [];\n                if (!e.node) {\n                    items = e.sender.dataSource.data();\n                } else {\n                    var rootItem = e.sender.dataItem(e.node);\n                    if (rootItem) {\n                        items = rootItem.children.data();\n                    }\n                }\n                for (var i = 0; i < items.length; i++) {\n                    if (items[i].selected && !this._valueComparer(items[i], this.value())) {\n                        items[i].set('selected', false);\n                    }\n                }\n            },\n            _checkLoadedItems: function (items) {\n                var value = this.value();\n                if (!items) {\n                    return;\n                }\n                for (var idx = 0; idx < items.length; idx++) {\n                    this._selection._checkLoadedItem(items[idx], value);\n                }\n            },\n            _treeViewCheckAllCheck: function (dataItem) {\n                if (this.options.checkAll && this.checkAll) {\n                    this._getAllChecked();\n                    if (dataItem.checked) {\n                        this._checkCheckAll();\n                    } else {\n                        this._uncheckCheckAll();\n                    }\n                }\n            },\n            _checkCheckAll: function () {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                if (this._allItemsAreChecked) {\n                    checkAllCheckbox.prop('checked', true).prop('indeterminate', false);\n                } else {\n                    checkAllCheckbox.prop('indeterminate', true);\n                }\n            },\n            _uncheckCheckAll: function () {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                if (this._allItemsAreUnchecked) {\n                    checkAllCheckbox.prop('checked', false).prop('indeterminate', false);\n                } else {\n                    checkAllCheckbox.prop('indeterminate', true);\n                }\n            },\n            _filterHeader: function () {\n                var icon;\n                if (this.filterInput) {\n                    this.filterInput.off(ns).parent().remove();\n                    this.filterInput = null;\n                }\n                if (this._isFilterEnabled()) {\n                    this._disableCheckChildren();\n                    icon = '<span class=\"k-icon k-i-zoom\"></span>';\n                    this.filterInput = $('<input class=\"k-textbox\"/>').attr({\n                        placeholder: this.element.attr('placeholder'),\n                        title: this.element.attr('title'),\n                        role: 'listbox',\n                        'aria-haspopup': true,\n                        'aria-expanded': false\n                    });\n                    this.filterInput.on('input', proxy(this._filterChange, this));\n                    $('<span class=\"k-list-filter\" />').insertBefore(this.tree).append(this.filterInput.add(icon));\n                }\n            },\n            _filterChange: function () {\n                if (this.filterInput) {\n                    this._search();\n                }\n            },\n            _disableCheckChildren: function () {\n                if (this._isMultipleSelection() && this.options.treeview.checkboxes && this.options.treeview.checkboxes.checkChildren) {\n                    this.options.treeview.checkboxes.checkChildren = false;\n                }\n            },\n            _checkAll: function () {\n                if (this.checkAll) {\n                    this.checkAll.find('.k-checkbox-label, .k-checkbox').off(ns);\n                    this.checkAll.remove();\n                    this.checkAll = null;\n                }\n                if (this._isMultipleSelection() && this.options.checkAll) {\n                    this.checkAll = $('<div class=\"k-check-all\"><input type=\"checkbox\" class=\"k-checkbox\"/><span class=\"k-checkbox-label\">Check All</span></div>').insertBefore(this.tree);\n                    this.checkAll.find('.k-checkbox-label').html(kendo.template(this.options.checkAllTemplate)({ instance: this }));\n                    this.checkAll.find('.k-checkbox-label').on(CLICK + ns, proxy(this._clickCheckAll, this));\n                    this.checkAll.find('.k-checkbox').on('change' + ns, proxy(this._changeCheckAll, this)).on('keydown' + ns, proxy(this._keydownCheckAll, this));\n                    this._disabledCheckedItems = [];\n                    this._disabledUnCheckedItems = [];\n                    this._getAllChecked();\n                    if (!this._allItemsAreUnchecked) {\n                        this._checkCheckAll();\n                    }\n                }\n            },\n            _changeCheckAll: function () {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                var isChecked = checkAllCheckbox.prop('checked');\n                this._updateCheckAll(isChecked);\n            },\n            _updateCheckAll: function (isChecked) {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                this._toggleCheckAllItems(isChecked);\n                checkAllCheckbox.prop('checked', isChecked);\n                if (this._disabledCheckedItems.length && this._disabledUnCheckedItems.length) {\n                    checkAllCheckbox.prop('indeterminate', true);\n                } else if (this._disabledCheckedItems.length) {\n                    checkAllCheckbox.prop('indeterminate', !isChecked);\n                } else if (this._disabledUnCheckedItems.length) {\n                    checkAllCheckbox.prop('indeterminate', isChecked);\n                } else {\n                    checkAllCheckbox.prop('indeterminate', false);\n                }\n                this._disabledCheckedItems = [];\n                this._disabledUnCheckedItems = [];\n            },\n            _keydownCheckAll: function (e) {\n                var key = e.keyCode;\n                var altKey = e.altKey;\n                if (altKey && key === keys.UP || key === keys.ESC || key === keys.TAB) {\n                    this.close();\n                    this.wrapper.trigger('focus');\n                    e.preventDefault();\n                    return;\n                }\n                if (key === keys.UP) {\n                    if (this.filterInput) {\n                        this.filterInput.trigger('focus');\n                    } else {\n                        this.wrapper.trigger('focus');\n                    }\n                    e.preventDefault();\n                }\n                if (key === keys.DOWN) {\n                    if (this.tree && this.tree.is(':visible')) {\n                        this.tree.focus();\n                    }\n                    e.preventDefault();\n                }\n                if (key === keys.SPACEBAR && (browser.msie || browser.edge)) {\n                    this._clickCheckAll();\n                    e.preventDefault();\n                }\n            },\n            _clickCheckAll: function () {\n                var checkAllCheckbox = this.checkAll.find('.k-checkbox');\n                var isChecked = checkAllCheckbox.prop('checked');\n                this._updateCheckAll(!isChecked);\n                checkAllCheckbox.trigger('focus');\n            },\n            _dfs: function (items, action, prop) {\n                for (var idx = 0; idx < items.length; idx++) {\n                    if (!this[action](items[idx], prop)) {\n                        break;\n                    }\n                    this._traverceChildren(items[idx], action, prop);\n                }\n            },\n            _uncheckItemByUid: function (uid) {\n                this._dfs(this.dataSource.data(), '_uncheckItemEqualsUid', uid);\n            },\n            _uncheckItemEqualsUid: function (item, uid) {\n                if (item.enabled !== false && item._tagUid == uid) {\n                    item.set('checked', false);\n                    return false;\n                }\n                return true;\n            },\n            _selectItemByText: function (text) {\n                this._dfs(this.dataSource.data(), '_itemEqualsText', text);\n            },\n            _itemEqualsText: function (item, text) {\n                if (item.enabled !== false && this._text(item) === text) {\n                    this.treeview.select(this.treeview.findByUid(item.uid));\n                    this._selectValue(item);\n                    return false;\n                }\n                return true;\n            },\n            _selectItemByValue: function (value) {\n                this._dfs(this.dataSource.data(), '_itemEqualsValue', value);\n            },\n            _itemEqualsValue: function (item, value) {\n                if (item.enabled !== false && this._valueComparer(item, value)) {\n                    this.treeview.select(this.treeview.findByUid(item.uid));\n                    return false;\n                }\n                return true;\n            },\n            _checkItemByValue: function (value) {\n                var items = this.treeview.dataItems();\n                for (var idx = 0; idx < value.length; idx++) {\n                    this._dfs(items, '_checkItemEqualsValue', value[idx]);\n                }\n            },\n            _checkItemEqualsValue: function (item, value) {\n                if (item.enabled !== false && this._valueComparer(item, value)) {\n                    item.set('checked', true);\n                    return false;\n                }\n                return true;\n            },\n            _valueComparer: function (item, value) {\n                var itemValue = this._value(item);\n                var itemText;\n                if (!this._isNullorUndefined(itemValue)) {\n                    if (this._isNullorUndefined(value)) {\n                        return false;\n                    }\n                    var newValue = this._value(value);\n                    if (newValue) {\n                        return itemValue == newValue;\n                    } else {\n                        return itemValue == value;\n                    }\n                }\n                itemText = this._text(item);\n                if (itemText) {\n                    if (this._text(value)) {\n                        return itemText == this._text(value);\n                    } else {\n                        return itemText == value;\n                    }\n                }\n                return false;\n            },\n            _isNullorUndefined: function (value) {\n                return value === undefined || value === null;\n            },\n            _getAllChecked: function () {\n                this._allCheckedItems = [];\n                this._allItemsAreChecked = true;\n                this._allItemsAreUnchecked = true;\n                this._dfs(this.dataSource.data(), '_getAllCheckedItems');\n                return this._allCheckedItems;\n            },\n            _getAllCheckedItems: function (item) {\n                if (this._allItemsAreChecked) {\n                    this._allItemsAreChecked = item.checked;\n                }\n                if (this._allItemsAreUnchecked) {\n                    this._allItemsAreUnchecked = !item.checked;\n                }\n                if (item.checked) {\n                    this._allCheckedItems.push(item);\n                }\n                return true;\n            },\n            _traverceChildren: function (item, action, prop) {\n                var childrenField = item._childrenOptions && item._childrenOptions.schema ? item._childrenOptions.schema.data : null;\n                var subItems = item[childrenField] || item.items || item.children;\n                if (!subItems) {\n                    return;\n                }\n                this._dfs(subItems, action, prop);\n            },\n            _toggleCheckAllItems: function (checked) {\n                this._dfs(this.dataSource.data(), '_checkAllCheckItem', checked);\n            },\n            _checkAllCheckItem: function (item, checked) {\n                if (item.enabled === false) {\n                    if (item.checked) {\n                        this._disabledCheckedItems.push(item);\n                    } else {\n                        this._disabledUnCheckedItems.push(item);\n                    }\n                } else {\n                    item.set('checked', checked);\n                }\n                return true;\n            },\n            _isFilterEnabled: function () {\n                var filter = this.options.filter;\n                return filter && filter !== 'none';\n            },\n            _editable: function (options) {\n                var that = this;\n                var element = that.element;\n                var disable = options.disable;\n                var readonly = options.readonly;\n                var wrapper = that.wrapper.add(that.filterInput).off(ns);\n                var dropDownWrapper = that._inputWrapper.off(HOVEREVENTS);\n                if (that._isMultipleSelection()) {\n                    that.tagList.off(CLICK + ns);\n                }\n                if (!readonly && !disable) {\n                    element.prop(DISABLED, false).prop(READONLY, false);\n                    dropDownWrapper.removeClass(STATEDISABLED).on(HOVEREVENTS, that._toggleHover);\n                    that._clear.on('click' + ns, proxy(that._clearClick, that));\n                    wrapper.attr(TABINDEX, wrapper.data(TABINDEX)).attr(ARIA_DISABLED, false).attr(ARIA_READONLY, false).on('keydown' + ns, proxy(that._keydown, that)).on('focusin' + ns, proxy(that._focusinHandler, that)).on('focusout' + ns, proxy(that._focusoutHandler, that));\n                    that.wrapper.on(CLICK + ns, proxy(that._wrapperClick, that));\n                    if (this._isMultipleSelection()) {\n                        that.tagList.on(CLICK + ns, 'li.k-button', function (e) {\n                            $(e.currentTarget).addClass(FOCUSED);\n                        });\n                        that.tagList.on(CLICK + ns, '.k-select', function (e) {\n                            that._removeTagClick(e);\n                        });\n                    }\n                } else if (disable) {\n                    wrapper.removeAttr(TABINDEX);\n                    dropDownWrapper.addClass(STATEDISABLED);\n                } else {\n                    wrapper.attr(TABINDEX, wrapper.data(TABINDEX));\n                    dropDownWrapper.removeClass(STATEDISABLED);\n                    wrapper.on('focusin' + ns, proxy(that._focusinHandler, that)).on('focusout' + ns, proxy(that._focusoutHandler, that));\n                }\n                element.attr(DISABLED, disable).attr(READONLY, readonly);\n                wrapper.attr(ARIA_DISABLED, disable).attr(ARIA_READONLY, readonly);\n            },\n            _focusinHandler: function () {\n                this._inputWrapper.addClass(FOCUSED);\n                this._prevent = false;\n            },\n            _focusoutHandler: function () {\n                var that = this;\n                if (this._isMultipleSelection()) {\n                    this.tagList.find(DOT + FOCUSED).removeClass(FOCUSED);\n                }\n                if (!that._prevent) {\n                    this._inputWrapper.removeClass(FOCUSED);\n                    that._prevent = true;\n                    that.element.trigger('blur');\n                }\n            },\n            _toggle: function (open) {\n                open = open !== undefined ? open : !this.popup.visible();\n                this[open ? OPEN : CLOSE]();\n            },\n            _wrapperClick: function (e) {\n                e.preventDefault();\n                this.popup.unbind('activate', this._focusInputHandler);\n                this._focused = this.wrapper;\n                this._prevent = false;\n                this._toggle();\n            },\n            _toggleHover: function (e) {\n                $(e.currentTarget).toggleClass(HOVER, e.type === 'mouseenter');\n            },\n            _focusInput: function () {\n                if (this.filterInput) {\n                    this.filterInput.trigger('focus');\n                } else if (this.checkAll) {\n                    this.checkAll.find('.k-checkbox').trigger('focus');\n                } else if (this.tree.is(':visible')) {\n                    this.tree[0].focus({ preventScroll: true });\n                    this._ie11PreventScrollOnFocus();\n                }\n            },\n            _ie11PreventScrollOnFocus: function () {\n                if (browser.msie && browser.version == 11) {\n                    var popup = this.popup;\n                    popup._toggleResize(false);\n                    setTimeout(function () {\n                        popup._toggleResize(true);\n                    }, 50);\n                }\n            },\n            _keydown: function (e) {\n                var key = e.keyCode;\n                var altKey = e.altKey;\n                var isFilterInputActive;\n                var isWrapperActive;\n                var focused, tagItem;\n                var isPopupVisible = this.popup.visible();\n                if (this.filterInput) {\n                    isFilterInputActive = this.filterInput[0] === activeElement();\n                }\n                if (this.wrapper) {\n                    isWrapperActive = this.wrapper[0] === activeElement();\n                }\n                if (isWrapperActive) {\n                    if (key === keys.ESC) {\n                        this._clearTextAndValue();\n                        e.preventDefault();\n                        return;\n                    }\n                    if (this._isMultipleSelection()) {\n                        if (key === keys.LEFT) {\n                            this._focusPrevTag();\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.RIGHT) {\n                            this._focusNextTag();\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.HOME) {\n                            this._focusFirstTag();\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.END) {\n                            this._focusLastTag();\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.DELETE) {\n                            focused = this.tagList.find(DOT + FOCUSED).first();\n                            if (focused.length) {\n                                tagItem = this._tags[focused.index()];\n                                this._removeTag(tagItem);\n                            }\n                            e.preventDefault();\n                            return;\n                        }\n                        if (key === keys.BACKSPACE) {\n                            focused = this.tagList.find(DOT + FOCUSED).first();\n                            if (focused.length) {\n                                tagItem = this._tags[focused.index()];\n                                this._removeTag(tagItem);\n                            } else {\n                                focused = this._focusLastTag();\n                                if (focused.length) {\n                                    tagItem = this._tags[focused.index()];\n                                    this._removeTag(tagItem);\n                                }\n                            }\n                            e.preventDefault();\n                            return;\n                        }\n                    }\n                }\n                if (isFilterInputActive) {\n                    if (key === keys.ESC) {\n                        this._clearFilter();\n                    }\n                    if (key === keys.UP && !altKey) {\n                        this.wrapper.trigger('focus');\n                        e.preventDefault();\n                    }\n                    if (browser.msie && browser.version < 10) {\n                        if (key === keys.BACKSPACE || key === keys.DELETE) {\n                            this._search();\n                        }\n                    }\n                    if (key === keys.TAB) {\n                        this.close();\n                        this.wrapper.trigger('focus');\n                        e.preventDefault();\n                        return;\n                    }\n                }\n                if (altKey && key === keys.UP || key === keys.ESC) {\n                    this.close();\n                    this.wrapper.trigger('focus');\n                    e.preventDefault();\n                    return;\n                }\n                if (key === keys.ENTER && this._typingTimeout && this.filterInput && isPopupVisible) {\n                    e.preventDefault();\n                    return;\n                }\n                if (key === keys.SPACEBAR && !isFilterInputActive) {\n                    this._toggle(!isPopupVisible);\n                    e.preventDefault();\n                }\n                if (altKey && key === keys.DOWN && !isPopupVisible) {\n                    this.open();\n                    e.preventDefault();\n                }\n                if (key === keys.DOWN && isPopupVisible) {\n                    if (this.filterInput && !isFilterInputActive) {\n                        this.filterInput.trigger('focus');\n                    } else if (this.checkAll && this.checkAll.is(':visible')) {\n                        this.checkAll.find('input').trigger('focus');\n                    } else if (this.tree.is(':visible')) {\n                        this.tree[0].focus({ preventScroll: true });\n                        this._ie11PreventScrollOnFocus();\n                    }\n                    e.preventDefault();\n                }\n                if (key === keys.TAB && isPopupVisible) {\n                    this.close();\n                    this.wrapper.trigger('focus');\n                    e.preventDefault();\n                }\n            },\n            _focusPrevTag: function () {\n                var focused = this.tagList.find(DOT + FOCUSED);\n                if (focused.length) {\n                    var activedescendant = this.wrapper.attr('aria-activedescendant');\n                    focused.first().removeClass(FOCUSED).removeAttr('id').prev().addClass(FOCUSED).attr('id', activedescendant);\n                    this.wrapper.attr('aria-activedescendant', activedescendant);\n                } else {\n                    this._focusLastTag();\n                }\n            },\n            _focusNextTag: function () {\n                var focused = this.tagList.find(DOT + FOCUSED);\n                if (focused.length) {\n                    var activedescendant = this.wrapper.attr('aria-activedescendant');\n                    focused.first().removeClass(FOCUSED).removeAttr('id').next().addClass(FOCUSED).attr('id', activedescendant);\n                    this.wrapper.attr('aria-activedescendant', activedescendant);\n                } else {\n                    this._focusFirstTag();\n                }\n            },\n            _focusFirstTag: function () {\n                var activedescendant = this.wrapper.attr('aria-activedescendant');\n                this._clearDisabledTag();\n                var firstTag = this.tagList.children('li').first().addClass(FOCUSED).attr('id', activedescendant);\n                this.wrapper.attr('aria-activedescendant', activedescendant);\n                return firstTag;\n            },\n            _focusLastTag: function () {\n                var activedescendant = this.wrapper.attr('aria-activedescendant');\n                this._clearDisabledTag();\n                var lastTag = this.tagList.children('li').last().addClass(FOCUSED).attr('id', activedescendant);\n                this.wrapper.attr('aria-activedescendant', activedescendant);\n                return lastTag;\n            },\n            _clearDisabledTag: function () {\n                this.tagList.find(DOT + FOCUSED).removeClass(FOCUSED).removeAttr('id');\n            },\n            _search: function () {\n                var that = this;\n                clearTimeout(that._typingTimeout);\n                that._typingTimeout = setTimeout(function () {\n                    var value = that.filterInput.val();\n                    if (that._prev !== value) {\n                        that._prev = value;\n                        that.search(value);\n                    }\n                    that._typingTimeout = null;\n                }, that.options.delay);\n            },\n            _clearFilter: function () {\n                if (this.filterInput.val().length) {\n                    this.filterInput.val('');\n                    this._prev = '';\n                    this._filtering = true;\n                    this.treeview.dataSource.filter({});\n                }\n            },\n            _removeTagClick: function (e) {\n                e.stopPropagation();\n                var tagItem = this._tags[$(e.currentTarget.parentElement).index()];\n                this._removeTag(tagItem);\n            },\n            _removeTag: function (tagItem) {\n                if (!tagItem) {\n                    return;\n                }\n                var uid = tagItem.uid;\n                this._uncheckItemByUid(uid);\n            }\n        });\n        function assign(instance, fields, value) {\n            var idx = 0, lastIndex = fields.length - 1, field;\n            for (; idx < lastIndex; ++idx) {\n                field = fields[idx];\n                if (!(field in instance)) {\n                    instance[field] = {};\n                }\n                instance = instance[field];\n            }\n            instance[fields[lastIndex]] = value;\n        }\n        ui.plugin(DropDownTree);\n        var SingleSelection = kendo.Class.extend({\n            init: function (view) {\n                this._dropdowntree = view;\n            },\n            _initWrapper: function () {\n                this._wrapper();\n                this._span();\n            },\n            _preselect: function (data) {\n                var dropdowntree = this._dropdowntree;\n                dropdowntree._selectValue(data);\n            },\n            _wrapper: function () {\n                var dropdowntree = this._dropdowntree, element = dropdowntree.element, DOMelement = element[0], wrapper;\n                wrapper = element.parent();\n                if (!wrapper.is('span.k-widget')) {\n                    wrapper = element.wrap('<span />').parent();\n                    wrapper[0].style.cssText = DOMelement.style.cssText;\n                    wrapper[0].title = DOMelement.title;\n                }\n                dropdowntree._focused = dropdowntree.wrapper = wrapper.addClass('k-widget k-dropdowntree').addClass(DOMelement.className).removeClass('input-validation-error').css('display', '').attr({\n                    accesskey: element.attr('accesskey'),\n                    unselectable: 'on',\n                    role: 'listbox',\n                    'aria-haspopup': true,\n                    'aria-expanded': false\n                });\n                element.hide().removeAttr('accesskey');\n            },\n            _span: function () {\n                var dropdowntree = this._dropdowntree, wrapper = dropdowntree.wrapper, SELECTOR = 'span.k-input', span;\n                span = wrapper.find(SELECTOR);\n                if (!span[0]) {\n                    wrapper.append('<span unselectable=\"on\" class=\"k-dropdown-wrap k-state-default\"><span unselectable=\"on\" class=\"k-input\">&nbsp;</span><span role=\"button\" unselectable=\"on\" class=\"k-select\" aria-label=\"select\"><span class=\"k-icon k-i-arrow-60-down\"></span></span></span>').append(dropdowntree.element);\n                    span = wrapper.find(SELECTOR);\n                }\n                dropdowntree.span = span;\n                dropdowntree._inputWrapper = $(wrapper[0].firstChild);\n                dropdowntree._arrow = wrapper.find('.k-select');\n                dropdowntree._arrowIcon = dropdowntree._arrow.find('.k-icon');\n            },\n            _setValue: function (value) {\n                var dropdowntree = this._dropdowntree;\n                var currentValue;\n                if (value === undefined || value === null) {\n                    currentValue = dropdowntree._values.slice()[0];\n                    value = typeof currentValue === 'object' ? currentValue : dropdowntree._accessor() || currentValue;\n                    return value === undefined || value === null ? '' : value;\n                }\n                dropdowntree._valueMethodCalled = true;\n                if (value.length === 0) {\n                    dropdowntree._clearTextAndValue();\n                    dropdowntree._valueMethodCalled = false;\n                    return;\n                }\n                dropdowntree._selectItemByValue(value);\n                dropdowntree._toggleCloseVisibility();\n            },\n            _clearValue: function () {\n                var dropdowntree = this._dropdowntree;\n                var selectedNode = dropdowntree.treeview.select();\n                if (dropdowntree.treeview.dataItem(selectedNode)) {\n                    dropdowntree.treeview.dataItem(selectedNode).set('selected', false);\n                    if (!dropdowntree._valueMethodCalled) {\n                        dropdowntree.trigger(CHANGE);\n                    }\n                }\n            },\n            _checkLoadedItem: function (tempItem, value) {\n                var dropdowntree = this._dropdowntree;\n                if (!dropdowntree._isNullorUndefined(value) && value !== '') {\n                    if (dropdowntree._valueComparer(tempItem, value)) {\n                        dropdowntree._preventChangeTrigger = true;\n                        tempItem.set('selected', true);\n                        dropdowntree._preventChangeTrigger = false;\n                    } else if (tempItem.selected) {\n                        dropdowntree.treeview.select(dropdowntree.treeview.findByUid(tempItem.uid));\n                    }\n                } else if (!value && tempItem.selected) {\n                    dropdowntree.treeview.select(dropdowntree.treeview.findByUid(tempItem.uid));\n                }\n            }\n        });\n        var MultipleSelection = kendo.Class.extend({\n            init: function (view) {\n                this._dropdowntree = view;\n            },\n            _initWrapper: function () {\n                var dropdowntree = this._dropdowntree;\n                this._tagTemplate();\n                dropdowntree.element.attr('multiple', 'multiple').hide();\n                this._wrapper();\n                dropdowntree._tags = new ObservableArray([]);\n                dropdowntree._multipleTags = new ObservableArray([]);\n                this._tagList();\n                dropdowntree.span = $('<span unselectable=\"on\" class=\"k-input\">&nbsp;</span>').insertAfter(dropdowntree.tagList);\n                dropdowntree._inputWrapper = $(dropdowntree.wrapper[0].firstChild);\n            },\n            _preselect: function (data, value) {\n                var dropdowntree = this._dropdowntree;\n                var valueToSelect = value || dropdowntree.options.value;\n                if (!Array.isArray(data) && !(data instanceof kendo.data.ObservableArray)) {\n                    data = [data];\n                }\n                if ($.isPlainObject(data[0]) || data[0] instanceof kendo.data.ObservableObject || !dropdowntree.options.dataValueField) {\n                    dropdowntree.dataSource.data(data);\n                    dropdowntree.value(valueToSelect);\n                }\n            },\n            _tagTemplate: function () {\n                var dropdowntree = this._dropdowntree;\n                var options = dropdowntree.options;\n                var tagTemplate = options.valueTemplate;\n                var isMultiple = options.tagMode === 'multiple';\n                var singleTag = options.messages.singleTag;\n                tagTemplate = tagTemplate ? kendo.template(tagTemplate) : dropdowntree.valueTemplate;\n                dropdowntree.valueTemplate = function (data) {\n                    if (isMultiple) {\n                        return '<li class=\"k-button ' + (data.enabled === false ? 'k-state-disabled' : '') + '\" unselectable=\"on\" role=\"option\" ' + (data.enabled === false ? 'aria-disabled=\"true\"' : '') + '>' + '<span unselectable=\"on\">' + tagTemplate(data) + '</span>' + '<span title=\"' + dropdowntree.options.messages.deleteTag + '\" aria-label=\"' + dropdowntree.options.messages.deleteTag + '\" class=\"k-select\">' + '<span class=\"k-icon k-i-close\"></span>' + '</span>' + '</li>';\n                    }\n                    return '<li class=\"k-button\" unselectable=\"on\" role=\"option\">' + '<span unselectable=\"on\" data-bind=\"text: tags.length\"></span>' + '<span unselectable=\"on\">&nbsp;' + singleTag + '</span>' + '</li>';\n                };\n            },\n            _wrapper: function () {\n                var dropdowntree = this._dropdowntree, element = dropdowntree.element, wrapper = element.parent('span.k-dropdowntree');\n                if (!wrapper[0]) {\n                    wrapper = element.wrap('<div class=\"k-widget k-dropdowntree\" unselectable=\"on\" />').parent();\n                    wrapper[0].style.cssText = element[0].style.cssText;\n                    wrapper[0].title = element[0].title;\n                    $('<div class=\"k-multiselect-wrap k-floatwrap\" unselectable=\"on\" />').insertBefore(element);\n                }\n                dropdowntree.wrapper = wrapper.addClass(element[0].className).css('display', '').attr({\n                    role: 'listbox',\n                    'aria-activedescendant': kendo.guid(),\n                    'aria-haspopup': true,\n                    'aria-expanded': false\n                });\n                dropdowntree._innerWrapper = $(wrapper[0].firstChild);\n            },\n            _tagList: function () {\n                var dropdowntree = this._dropdowntree, tagList = dropdowntree._innerWrapper.children('ul');\n                if (!tagList[0]) {\n                    var isMultiple = dropdowntree.options.tagMode === 'multiple';\n                    var tagCollection = isMultiple ? 'tags' : 'multipleTag';\n                    tagList = $('<ul role=\"listbox\" unselectable=\"on\" data-template=\"tagTemplate\" data-bind=\"source: ' + tagCollection + '\" class=\"k-reset\"/>').appendTo(dropdowntree._innerWrapper);\n                }\n                dropdowntree.tagList = tagList;\n                dropdowntree.tagList.attr('id', kendo.guid() + '_tagList');\n                dropdowntree.wrapper.attr('aria-owns', dropdowntree.tagList.attr('id'));\n                var viewModel = kendo.observable({\n                    multipleTag: dropdowntree._multipleTags,\n                    tags: dropdowntree._tags,\n                    tagTemplate: dropdowntree.valueTemplate\n                });\n                kendo.bind(dropdowntree.tagList, viewModel);\n                dropdowntree.tagList.attr('data-stop', true);\n            },\n            _setValue: function (value) {\n                var dropdowntree = this._dropdowntree;\n                var oldValues = dropdowntree._values;\n                if (value === undefined || value === null) {\n                    return dropdowntree._values.slice();\n                }\n                dropdowntree.setValue(value);\n                dropdowntree._valueMethodCalled = true;\n                if (value.length) {\n                    this._removeValues(oldValues, value);\n                    dropdowntree._checkItemByValue(value);\n                } else {\n                    dropdowntree._clearTextAndValue();\n                }\n                dropdowntree._valueMethodCalled = false;\n                dropdowntree._toggleCloseVisibility();\n            },\n            _removeValues: function (oldValues, value) {\n                var dropdowntree = this._dropdowntree;\n                var removedValues = this._getNewValues(oldValues, value);\n                for (var idx = 0; idx < removedValues.length; idx++) {\n                    for (var j = 0; j < dropdowntree._tags.length; j++) {\n                        if (dropdowntree._valueComparer(dropdowntree._tags[j], removedValues[idx])) {\n                            dropdowntree._uncheckItemByUid(dropdowntree._tags[j].uid);\n                        }\n                    }\n                }\n            },\n            _getNewValues: function (oldValues, value) {\n                var removedValues = [];\n                for (var idx = 0; idx < oldValues.length; idx++) {\n                    if (value.indexOf(oldValues[idx]) === -1) {\n                        removedValues.push(oldValues[idx]);\n                    }\n                }\n                return removedValues;\n            },\n            _clearValue: function () {\n                var dropdowntree = this._dropdowntree;\n                var tagsArray = dropdowntree._tags.slice();\n                for (var idx = 0; idx < tagsArray.length; idx++) {\n                    var uid = tagsArray[idx].uid;\n                    dropdowntree._preventChangeTrigger = true;\n                    dropdowntree._uncheckItemByUid(uid);\n                }\n                if (tagsArray.length) {\n                    dropdowntree._preventChangeTrigger = false;\n                    if (!dropdowntree._valueMethodCalled) {\n                        dropdowntree.trigger(CHANGE);\n                    }\n                }\n            },\n            _checkLoadedItem: function (tempItem, value) {\n                var dropdowntree = this._dropdowntree;\n                if (dropdowntree._noInitialValue && tempItem.checked) {\n                    dropdowntree._checkValue(tempItem);\n                    return;\n                }\n                if ((value.length || this._isDataSourceSet) && (value.indexOf(dropdowntree._currentValue(tempItem)) !== -1 || value.indexOf(tempItem)) !== -1 && !this._findTag(dropdowntree._currentValue(tempItem))) {\n                    if (tempItem.checked) {\n                        dropdowntree._checkValue(tempItem);\n                    } else {\n                        dropdowntree._preventChangeTrigger = true;\n                        tempItem.set('checked', true);\n                        dropdowntree._preventChangeTrigger = false;\n                    }\n                }\n            },\n            _findTag: function (tempItemValue) {\n                var dropdowntree = this._dropdowntree;\n                return dropdowntree._tags.find(function (item) {\n                    return dropdowntree._valueComparer(item, tempItemValue);\n                });\n            }\n        });\n        kendo.ui.DropDownTree.SingleSelection = SingleSelection;\n        kendo.ui.DropDownTree.MultipleSelection = MultipleSelection;\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}
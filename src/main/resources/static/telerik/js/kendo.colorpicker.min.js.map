{"version":3,"sources":["kendo.colorpicker.js"],"names":["f","define","$","undefined","triggerEvent","self","type","color","parseColor","equals","_value","a","toCssRgba","toCss","trigger","value","kendo","window","ui","Widget","extend","NS","DISABLED","ColorSelector","init","element","options","ariaId","that","this","fn","call","_tabIndex","attr","_ariaId","_standalone","_triggerSelect","_triggerChange","name","events","_updateUI","opacity","enable","arguments","length","wrapper","toggleClass","_onEnable","_select","nohooks","prev","destroy","off","find","noop","_selectOnHide","_cancel","colorpicker","jQuery","amd","a1","a2","a3","getContrast","luminance1","luminance2","brightest","Math","max","darkest","min","getContrastFromTwoRGBAs","b","getLuminance","getRGBFromRGBA","r","g","rgb","map","v","pow","foregroundColor","backgroundColor","r1","fitIntoBounds","g1","b1","r2","g2","b2","round","contender","isPresent","isNaN","renderSvgCurveLine","gradientRectMetrics","hsva","findValue","contrast","saturation","low","high","comparer","mid","currentHsva","s","width","height","currentContrast","getColorFromHSV","toBytes","reversedComparer","getPaths","stepCount","reversed","i","points","push","bezierCommandCalc","bezierCommand","controlPoint","line","paths","svgPath","AA_CONTRAST","STEP_COUNT","AAA_CONTRAST","command","reducer","d","acc","point","format","reduce","controlPointCalc","cps","cpe","lineCalc","current","previous","next","reverse","p","n","smooth","l","angle","PI","x","cos","y","sin","pointA","pointB","lengthX","lengthY","sqrt","atan2","hue","h","alpha","Color","fromHSV","contrastToolUtils","preventDefault","ev","bind","callback","obj","apply","Observable","KEYS","keys","BACKGROUNDCOLOR","WHITE","BLACK","KEYDOWN_NS","ColorInput","_viewModel","observable","switchMode","keydown","mode","get","formats","hex","_changeHandler","change","_render","on","_template","template","unbind","append","ns","guid","parent","_color","_preventChangeEvent","set","reset","model","currentFormat","index","indexOf","field","_tryParseColor","sender","error","textbox","target","data","keyCode","ENTER","_focusout","ColorGradient","deepExtend","messages","previewInput","addClass","_hueElements","_colorgradientInputs","_contrastTool","_sliders","_hsvArea","_colorInput","tabindex","input","contrastTool","contrastRatio","fail","pass","toggleFormat","red","green","blue","_hueSlider","_opacitySlider","handle","_hsvRect","removeAttr","hueChange","e","_getHSV","opacityChange","hueSlider","opacitySlider","kendoSlider","tickPlacement","showButtons","orientation","slide","update","offset","dx","left","dy","top","rw","rh","_svChange","hsvRect","hsvHandle","_keydown","_hsvEvents","UserEvents","global","press","getOffset","focus","location","start","move","end","removeClass","_hsvHandle","setBackgroundColor","isPlainObject","_updateColorContrast","dontChangeInput","_updateHsv","_reset","_resetHsv","_resetColorContrast","rect","toHSV","css","contrastOptions","contrastRatioTemplate","labelTemplate","output","ratio","limit","level","remove","_updateContrastSvg","newSvg","svgClassName","metrics","prop","c","shiftKey","LEFT","ctrlKey","RIGHT","UP","DOWN","F2","select","ESC","handlePosition","position","_selectedColor","_colorAsText","plugin","relative","array","delta","pos","Array","prototype","slice","ITEMSELECTEDCLASS","ITEMSFOCUSEDCLASS","SIMPLEPALETTE","WEBPALETTE","CLICK_NS","BLUR_NS","ColorPalette","colors","tileSize","palette","columns","split","isArray","_selectedID","id","currentTarget","test","parseFloat","Error","is","selected","items","filter","_current","ex","item","each","MESSAGES","cancel","noColor","clearColor","gradient","NO_COLOR","SELECTED","VIEWS","FlatColorPicker","autoupdate","_previousColor","_viewsContainer","view","_changeView","_setViewSize","toDisplay","_clearColor","_view","viewButton","closest","empty","buttons","preview","clearButton","views","_updatePreviousColor","selectedColor","hsvColor","selector","_cachedHue","appendTo","dontChangeView","previewWidth","parseInt","previewHeight","previewColumns","style","setProperty","ColorPicker","content","label","accesskey","val","hide","after","_inputWrapper","firstChild","add","open","isDefaultPrevented","toggle","_popup","_selector","innerWrapper","children","arrow","toolIcon","close","closeOnSelect","ARIATemplate","_getPopup","selOptions","_closing","handler","visible","_noColorIcon","_isInputTypeColor","el","tagName","dontChangeSelector","formattedValue","_ariaTemplate","key","selectorType","selectorWrapper","popup","document","body","kendoPopup","anchor","adjustSize","setTimeout","activate"],"mappings":"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","file":"kendo.colorpicker.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('colorpicker/colorselector', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, Widget = ui.Widget, parseColor = kendo.parseColor, extend = $.extend, NS = '.kendoColorTools', DISABLED = 'k-state-disabled';\n        var ColorSelector = Widget.extend({\n            init: function (element, options) {\n                var that = this, ariaId;\n                Widget.fn.init.call(that, element, options);\n                element = that.element;\n                options = that.options;\n                that._value = options.value = parseColor(options.value);\n                that._tabIndex = element.attr('tabIndex') || 0;\n                ariaId = that._ariaId = options.ariaId;\n                if (ariaId) {\n                    element.attr('aria-labelledby', ariaId);\n                }\n                if (options._standalone) {\n                    that._triggerSelect = that._triggerChange;\n                }\n            },\n            options: {\n                name: 'ColorSelector',\n                value: null,\n                _standalone: true\n            },\n            events: [\n                'change',\n                'select',\n                'forceSelect',\n                'cancel'\n            ],\n            color: function (value) {\n                if (value !== undefined) {\n                    this._value = parseColor(value);\n                    this._updateUI(this._value);\n                }\n                return this._value;\n            },\n            value: function (color) {\n                color = this.color(color);\n                if (color) {\n                    if (this.options.opacity) {\n                        color = color.toCssRgba();\n                    } else {\n                        color = color.toCss();\n                    }\n                }\n                return color || null;\n            },\n            enable: function (enable) {\n                if (arguments.length === 0) {\n                    enable = true;\n                }\n                this.wrapper.toggleClass(DISABLED, !enable);\n                this._onEnable(enable);\n            },\n            _select: function (color, nohooks) {\n                var prev = this._value;\n                color = this.color(color);\n                if (!nohooks) {\n                    if (color && !color.equals(prev) || color === null && color !== prev) {\n                        this.element.trigger('change');\n                        this.trigger('change', { value: this.value() });\n                    } else if (!this._standalone) {\n                        this.trigger('cancel');\n                    }\n                }\n            },\n            _triggerSelect: function (color) {\n                triggerEvent(this, 'select', color);\n            },\n            _triggerChange: function (color) {\n                triggerEvent(this, 'change', color);\n            },\n            destroy: function () {\n                if (this.element) {\n                    this.element.off(NS);\n                }\n                if (this.wrapper) {\n                    this.wrapper.off(NS).find('*').off(NS);\n                }\n                this.wrapper = null;\n                Widget.fn.destroy.call(this);\n            },\n            _updateUI: $.noop,\n            _selectOnHide: function () {\n                return null;\n            },\n            _cancel: function () {\n                this.trigger('cancel');\n            }\n        });\n        function triggerEvent(self, type, color) {\n            color = parseColor(color);\n            if (color && !color.equals(self.color()) || color !== self.color()) {\n                if (type == 'change') {\n                    self._value = color;\n                }\n                if (color && color.a != 1) {\n                    color = color.toCssRgba();\n                } else if (color) {\n                    color = color.toCss();\n                }\n                self.trigger(type, { value: color });\n            }\n        }\n        extend(ui, { colorpicker: { ColorSelector: ColorSelector } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('colorpicker/contrastToolUtils', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var colorpicker = kendo.ui.colorpicker, extend = $.extend, Color = kendo.Color, parseColor = kendo.parseColor, AA_CONTRAST = 4.5, AAA_CONTRAST = 7, STEP_COUNT = 16;\n        function getContrast(luminance1, luminance2) {\n            var brightest = Math.max(luminance1, luminance2);\n            var darkest = Math.min(luminance1, luminance2);\n            return (brightest + 0.05) / (darkest + 0.05);\n        }\n        function getContrastFromTwoRGBAs(a, b) {\n            return getContrast(getLuminance(getRGBFromRGBA(a, b)), getLuminance(getRGBFromRGBA(b, {\n                r: 0,\n                g: 0,\n                b: 0,\n                a: 1\n            })));\n        }\n        function getLuminance(rgb) {\n            var a = [\n                rgb.r,\n                rgb.g,\n                rgb.b\n            ].map(function (v) {\n                v /= 255;\n                return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n            });\n            return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n        }\n        function getRGBFromRGBA(foregroundColor, backgroundColor) {\n            var r1 = fitIntoBounds(foregroundColor.r, 0, 255);\n            var g1 = fitIntoBounds(foregroundColor.g, 0, 255);\n            var b1 = fitIntoBounds(foregroundColor.b, 0, 255);\n            var a1 = fitIntoBounds(foregroundColor.a, 0, 1);\n            var r2 = fitIntoBounds(backgroundColor.r, 0, 255);\n            var g2 = fitIntoBounds(backgroundColor.g, 0, 255);\n            var b2 = fitIntoBounds(backgroundColor.b, 0, 255);\n            return {\n                r: Math.round((1 - a1) * r2 + a1 * r1),\n                g: Math.round((1 - a1) * g2 + a1 * g1),\n                b: Math.round((1 - a1) * b2 + a1 * b1)\n            };\n        }\n        function fitIntoBounds(contender, min, max) {\n            if (!isPresent(contender) || isNaN(contender)) {\n                return min;\n            }\n            return contender <= min ? min : contender >= max ? max : contender;\n        }\n        function isPresent(value) {\n            return value !== null && value !== undefined;\n        }\n        function renderSvgCurveLine(gradientRectMetrics, hsva, backgroundColor) {\n            var findValue = function (contrast, saturation, low, high, comparer) {\n                var mid = (low + high) / 2;\n                var currentHsva = extend({}, hsva, {\n                    s: saturation / gradientRectMetrics.width,\n                    v: 1 - mid / gradientRectMetrics.height\n                });\n                var currentContrast = getContrastFromTwoRGBAs(parseColor(getColorFromHSV(currentHsva)).toBytes(), parseColor(backgroundColor).toBytes());\n                if (low + 0.5 > high) {\n                    if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n                        return mid;\n                    } else {\n                        return null;\n                    }\n                }\n                if (comparer(currentContrast, contrast)) {\n                    return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n                }\n                return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n            };\n            var comparer = function (a, b) {\n                return a > b;\n            };\n            var reversedComparer = function (a, b) {\n                return a < b;\n            };\n            var getPaths = function (contrast, stepCount, reversed) {\n                var points = [];\n                for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width / stepCount) {\n                    var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? reversedComparer : comparer);\n                    if (value !== null) {\n                        points.push([\n                            i,\n                            value\n                        ]);\n                    }\n                }\n                return points;\n            };\n            var bezierCommandCalc = bezierCommand(controlPoint(line));\n            var paths = svgPath(getPaths(AA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) + svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) + svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) + svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n            return '<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px; z-index: 3;\" >' + paths + '</svg>';\n        }\n        function svgPath(points, command) {\n            if (points.length === 0) {\n                return '';\n            }\n            var reducer = function (acc, point, i, a) {\n                return i === 0 ? kendo.format('M {0},{1}', point[0], point[1]) : kendo.format('{0} {1}', acc, command(point, i, a));\n            };\n            var d = points.reduce(reducer, '');\n            return kendo.format('<path d=\"{0}\" fill=\"none\" stroke=\"white\" stroke-width=\"1\"/>', d);\n        }\n        function bezierCommand(controlPointCalc) {\n            return function (point, i, a) {\n                var cps = controlPointCalc(a[i - 1], a[i - 2], point);\n                var cpe = controlPointCalc(point, a[i - 1], a[i + 1], true);\n                return kendo.format('C {0},{1} {2},{3} {4},{5}', cps[0], cps[1], cpe[0], cpe[1], point[0], point[1]);\n            };\n        }\n        function controlPoint(lineCalc) {\n            return function (current, previous, next, reverse) {\n                var p = previous || current;\n                var n = next || current;\n                var smooth = 0.1;\n                var l = lineCalc(p, n);\n                var angle = l.angle + (reverse ? Math.PI : 0);\n                var length = l.length * smooth;\n                var x = current[0] + Math.cos(angle) * length;\n                var y = current[1] + Math.sin(angle) * length;\n                return [\n                    x,\n                    y\n                ];\n            };\n        }\n        function line(pointA, pointB) {\n            var lengthX = pointB[0] - pointA[0];\n            var lengthY = pointB[1] - pointA[1];\n            return {\n                length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n                angle: Math.atan2(lengthY, lengthX)\n            };\n        }\n        function getColorFromHSV(hsva) {\n            var hue = fitIntoBounds(hsva.h, 0, 359.9);\n            var saturation = fitIntoBounds(hsva.s, 0, 1);\n            var value = fitIntoBounds(hsva.v, 0, 1);\n            var alpha = fitIntoBounds(hsva.a, 0, 1);\n            return Color.fromHSV(hue, saturation, value, alpha).toCssRgba();\n        }\n        extend(colorpicker, {\n            contrastToolUtils: {\n                getContrastFromTwoRGBAs: getContrastFromTwoRGBAs,\n                renderSvgCurveLine: renderSvgCurveLine\n            }\n        });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('colorpicker/colorgradient', [\n        'kendo.core',\n        'colorpicker/contrastToolUtils'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, Observable = kendo.Observable, parseColor = kendo.parseColor, extend = $.extend, Color = kendo.Color, KEYS = kendo.keys, BACKGROUNDCOLOR = 'background-color', WHITE = '#ffffff', BLACK = '#000000', NS = '.kendoColorTools', KEYDOWN_NS = 'keydown' + NS, ColorSelector = ui.colorpicker.ColorSelector, contrastToolUtils = ui.colorpicker.contrastToolUtils;\n        function preventDefault(ev) {\n            ev.preventDefault();\n        }\n        function bind(callback, obj) {\n            return function () {\n                return callback.apply(obj, arguments);\n            };\n        }\n        var ColorInput = Observable.extend({\n            init: function (element, options) {\n                var that = this;\n                that.element = element;\n                that.options = options;\n                that._viewModel = kendo.observable({\n                    switchMode: that.switchMode.bind(that),\n                    keydown: that.keydown.bind(that),\n                    mode: function (mode) {\n                        return mode === this.get('format');\n                    },\n                    format: options.format,\n                    formats: options.formats,\n                    rgb: null,\n                    hex: function () {\n                        return this.get('rgb') !== null && this.get('rgb').toCss({ alpha: options.opacity });\n                    }\n                });\n                that._changeHandler = that.change.bind(that);\n                that._viewModel.bind('change', that._changeHandler);\n                that._render();\n                that.element.on(KEYDOWN_NS, that.keydown.bind(that));\n                Observable.fn.init.call(that);\n            },\n            _template: kendo.template('# if (options.formats && options.formats.length > 1) { #' + '<div class=\"k-vstack\">' + '<button class=\"k-colorgradient-toggle-mode k-button k-icon-button k-flat\" data-#:ns#bind=\"click: switchMode\" title=\"#: options.messages.toggleFormat #\">' + '<span class=\"k-button-icon k-icon k-i-arrows-kpi\"></span>' + '</button>' + '</div>' + '# } #' + '# if (options.formats && options.formats.indexOf(\"hex\") >= 0) { #' + '<div class=\"k-vstack k-flex-1\" data-#:ns#bind=\"visible: mode(\\'hex\\')\">' + '<input type=\"text\" data-#:ns#bind=\"value: hex\" data-#:ns#role=\"textbox\" tabindex=\"#:options.tabindex#\"  aria-label=\"#: options.messages.hex #\"/>' + '<label class=\"k-colorgradient-input-label\">HEX</label>' + '</div>' + '# } #' + '# if (options.formats && options.formats.indexOf(\"rgb\") >= 0) { #' + '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' + '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.r\" data-#:ns#role=\"numerictextbox\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.red #\" />' + '<label class=\"k-colorgradient-input-label\">R</label>' + '</div>' + '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' + '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.g\" data-#:ns#role=\"numerictextbox\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.green #\" />' + '<label class=\"k-colorgradient-input-label\">G</label>' + '</div>' + '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' + '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.b\" data-#:ns#role=\"numerictextbox\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.blue #\"/>' + '<label class=\"k-colorgradient-input-label\">B</label>' + '</div>' + '#if(options.opacity){#' + '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' + '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.a\" data-#:ns#role=\"numerictextbox\" data-#:ns#step=\"0.1\" data-#:ns#max=\"1\" data-#:ns#min=\"0\" data-#:ns#decimals=\"1\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n1\"  aria-label=\"#: options.messages.alpha #\" />' + '<label class=\"k-colorgradient-input-label\">A</label>' + '</div>' + '# } #' + '# } #'),\n            destroy: function () {\n                var that = this;\n                that._viewModel.unbind('change', that._changeHandler);\n                kendo.unbind(that.element);\n                kendo.destroy(that.element);\n                that.element.off(KEYDOWN_NS);\n                delete that._viewModel;\n                delete that._changeHandler;\n            },\n            _render: function () {\n                var that = this;\n                that.element.append(that._template({\n                    ns: kendo.ns,\n                    guid: kendo.guid(),\n                    options: that.options\n                })).parent();\n                kendo.bind(that.element, that._viewModel);\n                that.element.attr('data-' + kendo.ns + 'stop', 'stop');\n            },\n            value: function (color) {\n                var that = this;\n                that._color = color && color.toBytes() || parseColor(BLACK);\n                that._preventChangeEvent = true;\n                that._viewModel.set('rgb', that._color);\n                delete that._preventChangeEvent;\n            },\n            reset: function () {\n                var that = this;\n                that._preventChangeEvent = true;\n                that._viewModel.set('rgb', parseColor(BLACK));\n                delete that._preventChangeEvent;\n            },\n            switchMode: function () {\n                var that = this, model = that._viewModel, currentFormat = model.format, index = model.formats.indexOf(currentFormat) + 1;\n                index = index >= model.formats.length ? 0 : index;\n                that._preventChangeEvent = true;\n                that._viewModel.set('format', model.formats[index]);\n                delete that._preventChangeEvent;\n            },\n            change: function (ev) {\n                var that = this;\n                if (ev.field.indexOf('rgb') >= 0) {\n                    that._color = that._tryParseColor(that._viewModel.rgb.toCssRgba());\n                    that._viewModel.set('hex', that._color.toCss({ alpha: that.options.opacity }));\n                } else if (ev.field === 'hex') {\n                    that._color = that._tryParseColor(ev.sender[ev.field]);\n                    that._viewModel.set('rgb', that._color);\n                }\n                if (!that._preventChangeEvent) {\n                    that.trigger('change', { value: that._color });\n                }\n            },\n            _tryParseColor: function (color) {\n                var that = this;\n                try {\n                    color = parseColor(color) || that._color;\n                } catch (error) {\n                    color = that._color;\n                }\n                return color;\n            },\n            keydown: function (ev) {\n                var that = this, textbox = $(ev.target).data('kendoTextBox');\n                if (ev.keyCode === KEYS.ENTER) {\n                    if (textbox && textbox._focusout) {\n                        textbox._focusout();\n                    }\n                    that.trigger('change', { value: that._color });\n                    that.trigger('select', { value: that._color });\n                }\n            }\n        });\n        var ColorGradient = ColorSelector.extend({\n            init: function (element, options) {\n                var that = this, value;\n                ColorSelector.fn.init.call(that, element, options);\n                options = that.options = kendo.deepExtend({}, that.options, options);\n                if (options.messages.previewInput) {\n                    options.messages.hex = options.messages.previewInput;\n                }\n                options.messages = options.messages ? $.extend(that.options.messages, options.messages) : that.options.messages;\n                element = that.element;\n                that.wrapper = element.addClass('k-colorgradient').append(that._template(options));\n                that._hueElements = $('.k-hsv-rectangle, .k-alpha-slider .k-slider-track', element);\n                that._colorgradientInputs = $('.k-colorgradient-inputs', element);\n                that._contrastTool = $('.k-colorgradient-color-contrast', element);\n                that._sliders();\n                that._hsvArea();\n                value = that._value;\n                if (that._colorgradientInputs.length) {\n                    that._colorInput = new ColorInput(that._colorgradientInputs, extend({}, options, { tabindex: this._tabIndex }));\n                    that._colorInput.bind('change', function (ev) {\n                        that._updateUI(ev.value, true);\n                    });\n                    that._colorInput.bind('select', function (ev) {\n                        var color = parseColor(ev.value);\n                        that._select(color);\n                        that.trigger('forceSelect', { value: that.value() });\n                    });\n                }\n                that._updateUI(value);\n            },\n            options: {\n                name: 'ColorGradient',\n                opacity: false,\n                input: true,\n                format: 'hex',\n                formats: [\n                    'rgb',\n                    'hex'\n                ],\n                contrastTool: false,\n                messages: {\n                    contrastRatio: 'Contrast ratio:',\n                    fail: 'Fail',\n                    pass: 'Pass',\n                    hex: 'HEX',\n                    toggleFormat: 'Toggle format',\n                    red: 'Red',\n                    green: 'Green',\n                    blue: 'Blue',\n                    alpha: 'Alpha'\n                }\n            },\n            _template: kendo.template('<div class=\"k-colorgradient-canvas k-hstack\">' + '<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"></div><div class=\"k-hsv-draghandle k-draghandle\"></div></div>' + '<div class=\"k-hsv-controls k-hstack\">' + '<input class=\"k-hue-slider k-colorgradient-slider\" />' + '# if (opacity) { #' + '<input class=\"k-alpha-slider k-colorgradient-slider\" />' + '# } #' + '</div>' + '</div>' + '# if (input) { #' + '<div class=\"k-colorgradient-inputs k-hstack\">' + '</div>' + '# } #' + '# if (contrastTool) { #' + '<div class=\"k-colorgradient-color-contrast k-vbox\">' + '</div>' + '# } #'),\n            _onEnable: function (enable) {\n                this._hueSlider.enable(enable);\n                if (this._opacitySlider) {\n                    this._opacitySlider.enable(enable);\n                }\n                this.wrapper.find('input').attr('disabled', !enable);\n                var handle = this._hsvRect.find('.k-draghandle');\n                if (enable) {\n                    handle.attr('tabIndex', this._tabIndex);\n                } else {\n                    handle.removeAttr('tabIndex');\n                }\n            },\n            _sliders: function () {\n                var that = this, element = that.element, hueSlider = element.find('.k-hue-slider'), opacitySlider = element.find('.k-alpha-slider');\n                function hueChange(e) {\n                    that._updateUI(that._getHSV(e.value, null, null, null));\n                }\n                hueSlider.attr('aria-label', 'hue saturation');\n                that._hueSlider = hueSlider.kendoSlider({\n                    min: 0,\n                    max: 360,\n                    tickPlacement: 'none',\n                    showButtons: false,\n                    orientation: 'vertical',\n                    slide: hueChange,\n                    change: hueChange\n                }).data('kendoSlider');\n                function opacityChange(e) {\n                    that._updateUI(that._getHSV(null, null, null, e.value / 100));\n                }\n                opacitySlider.attr('aria-label', 'opacity');\n                that._opacitySlider = opacitySlider.kendoSlider({\n                    min: 0,\n                    max: 100,\n                    tickPlacement: 'none',\n                    showButtons: false,\n                    orientation: 'vertical',\n                    slide: opacityChange,\n                    change: opacityChange\n                }).data('kendoSlider');\n            },\n            _hsvArea: function () {\n                var that = this, element = that.element, hsvRect = element.find('.k-hsv-rectangle'), hsvHandle = hsvRect.find('.k-draghandle').attr('tabIndex', 0).on(KEYDOWN_NS, bind(that._keydown, that));\n                function update(x, y) {\n                    var offset = this.offset, dx = x - offset.left, dy = y - offset.top, rw = this.width, rh = this.height;\n                    dx = dx < 0 ? 0 : dx > rw ? rw : dx;\n                    dy = dy < 0 ? 0 : dy > rh ? rh : dy;\n                    that._svChange(dx / rw, 1 - dy / rh);\n                }\n                that._hsvEvents = new kendo.UserEvents(hsvRect, {\n                    global: true,\n                    press: function (e) {\n                        this.offset = kendo.getOffset(hsvRect);\n                        this.width = hsvRect.width();\n                        this.height = hsvRect.height();\n                        hsvHandle.focus();\n                        update.call(this, e.x.location, e.y.location);\n                    },\n                    start: function () {\n                        hsvRect.addClass('k-dragging');\n                        hsvHandle.focus();\n                    },\n                    move: function (e) {\n                        e.preventDefault();\n                        update.call(this, e.x.location, e.y.location);\n                    },\n                    end: function () {\n                        hsvRect.removeClass('k-dragging');\n                    }\n                });\n                that._hsvRect = hsvRect;\n                that._hsvHandle = hsvHandle;\n            },\n            setBackgroundColor: function (color) {\n                var that = this;\n                if (that.options.contrastTool) {\n                    that.options.contrastTool = $.isPlainObject(that.options.contrastTool) ? extend({}, that.options.contrastTool, { backgroundColor: color }) : { backgroundColor: color };\n                    that._updateColorContrast(that.color() || parseColor(WHITE));\n                }\n            },\n            _updateUI: function (color, dontChangeInput) {\n                var that = this;\n                if (!color) {\n                    that._reset();\n                    return;\n                }\n                if (!dontChangeInput && that._colorInput) {\n                    that._colorInput.value(color);\n                }\n                that._triggerSelect(color);\n                that._updateHsv(color);\n                if (that._contrastTool.length) {\n                    that._updateColorContrast(color);\n                }\n            },\n            _reset: function () {\n                var that = this;\n                if (that._colorInput) {\n                    that._colorInput.reset();\n                }\n                that._resetHsv();\n                that._resetColorContrast();\n            },\n            _resetHsv: function () {\n                var that = this, color = parseColor(BLACK);\n                that._updateHsv(color);\n            },\n            _updateHsv: function (color) {\n                var that = this, rect = that._hsvRect;\n                color = color.toHSV();\n                that._hsvHandle.css({\n                    left: color.s * rect.width() + 'px',\n                    top: (1 - color.v) * rect.height() + 'px'\n                });\n                that._hueElements.css(BACKGROUNDCOLOR, Color.fromHSV(color.h, 1, 1, 1).toCss());\n                that._hueSlider.value(color.h);\n                if (that._opacitySlider) {\n                    that._opacitySlider.wrapper.find('.k-slider-track').css('background', 'linear-gradient(to top, transparent, ' + Color.fromHSV(color.h, 1, 1, 1).toCss());\n                    that._opacitySlider.value(100 * color.a);\n                }\n            },\n            _resetColorContrast: function () {\n                var that = this, contrastOptions = that.options.contrastTool;\n                if (that._contrastTool.length) {\n                    that._updateColorContrast(contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE));\n                }\n            },\n            _updateColorContrast: function (color) {\n                var that = this, contrastOptions = that.options.contrastTool, backgroundColor = contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE), contrastRatio = contrastToolUtils.getContrastFromTwoRGBAs(parseColor(color.toCssRgba()), backgroundColor), contrastRatioTemplate = kendo.template('<div class=\"k-contrast-ratio\">' + '<span class=\"k-contrast-ratio-text\">#:messages.contrastRatio# #:kendo.toString(ratio, \"n2\")#</span>' + '<span class=\"k-contrast-validation k-text-success\">' + '#if (ratio > 4.5) {#' + '<span class=\"k-icon k-i-check\"></span>' + '#}#' + '#if (ratio > 7) {#' + '<span class=\"k-icon k-i-check\"></span>' + '#}#' + '</span></div>'), labelTemplate = kendo.template('<div>' + '<span>#:level#: #:limit# </span>' + '#if (ratio > limit) {#' + '<span class=\"k-contrast-validation k-text-success\">#:messages.pass# <span class=\"k-icon k-i-check\"></span></span>' + '#} else {#' + '<span class=\"k-contrast-validation k-text-error\">#:messages.fail# <span class=\"k-icon k-i-close\"></span></span>' + '#}#' + '</div>'), output = '';\n                output += contrastRatioTemplate({\n                    messages: that.options.messages,\n                    ratio: contrastRatio\n                });\n                output += labelTemplate({\n                    messages: that.options.messages,\n                    ratio: contrastRatio,\n                    limit: 4.5,\n                    level: 'AA'\n                });\n                output += labelTemplate({\n                    messages: that.options.messages,\n                    ratio: contrastRatio,\n                    limit: 7,\n                    level: 'AAA'\n                });\n                that._contrastTool.find('.k-contrast-ratio, div').remove();\n                that._contrastTool.append(output);\n                that._updateContrastSvg(backgroundColor);\n            },\n            _updateContrastSvg: function (backgroundColor) {\n                var that = this, hsvRect = that._hsvRect, svgClassName = 'k-color-contrast-svg', metrics = {\n                        width: hsvRect.width(),\n                        height: hsvRect.height()\n                    }, newSvg;\n                if (!metrics.width || !metrics.height) {\n                    return;\n                }\n                newSvg = $(contrastToolUtils.renderSvgCurveLine(metrics, that._getHSV(), backgroundColor)).addClass(svgClassName);\n                hsvRect.find('.' + svgClassName).remove();\n                hsvRect.append(newSvg);\n            },\n            _keydown: function (ev) {\n                var that = this;\n                function move(prop, d) {\n                    var c = that._getHSV();\n                    c[prop] += d * (ev.shiftKey ? 0.01 : 0.05);\n                    if (c[prop] < 0) {\n                        c[prop] = 0;\n                    }\n                    if (c[prop] > 1) {\n                        c[prop] = 1;\n                    }\n                    that._updateUI(c);\n                    preventDefault(ev);\n                }\n                function hue(d) {\n                    var c = that._getHSV();\n                    c.h += d * (ev.shiftKey ? 1 : 5);\n                    if (c.h < 0) {\n                        c.h = 0;\n                    }\n                    if (c.h > 359) {\n                        c.h = 359;\n                    }\n                    that._updateUI(c);\n                    preventDefault(ev);\n                }\n                switch (ev.keyCode) {\n                case KEYS.LEFT:\n                    if (ev.ctrlKey) {\n                        hue(-1);\n                    } else {\n                        move('s', -1);\n                    }\n                    break;\n                case KEYS.RIGHT:\n                    if (ev.ctrlKey) {\n                        hue(1);\n                    } else {\n                        move('s', 1);\n                    }\n                    break;\n                case KEYS.UP:\n                    move(ev.ctrlKey && that._opacitySlider ? 'a' : 'v', 1);\n                    break;\n                case KEYS.DOWN:\n                    move(ev.ctrlKey && that._opacitySlider ? 'a' : 'v', -1);\n                    break;\n                case KEYS.ENTER:\n                    that._select(that._getHSV());\n                    break;\n                case KEYS.F2:\n                    that._colorInput.element.find('input').trigger('focus').select();\n                    break;\n                case KEYS.ESC:\n                    that._cancel();\n                    break;\n                }\n            },\n            focus: function () {\n                this._hsvHandle.focus();\n            },\n            _getHSV: function (h, s, v, a) {\n                var that = this, rect = that._hsvRect, width = rect.width(), height = rect.height(), handlePosition = this._hsvHandle.position();\n                if (!width || !height) {\n                    return that.color() ? that.color().toHSV() : parseColor(BLACK);\n                }\n                if (h == null) {\n                    h = that._hueSlider.value();\n                }\n                if (s == null) {\n                    s = handlePosition.left / width;\n                }\n                if (v == null) {\n                    v = 1 - handlePosition.top / height;\n                }\n                if (a == null) {\n                    a = that._opacitySlider ? that._opacitySlider.value() / 100 : 1;\n                }\n                return Color.fromHSV(h, s, v, a);\n            },\n            _svChange: function (s, v) {\n                var color = this._getHSV(null, s, v, null);\n                this._updateUI(color);\n            },\n            destroy: function () {\n                this._hsvEvents.destroy();\n                this._hueSlider.destroy();\n                if (this._opacitySlider) {\n                    this._opacitySlider.destroy();\n                }\n                if (this._colorInput) {\n                    this._colorInput.destroy();\n                }\n                this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle = this._hueElements = this._selectedColor = this._colorAsText = this._contrastTool = null;\n                ColorSelector.fn.destroy.call(this);\n            }\n        });\n        ui.plugin(ColorGradient);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('colorpicker/colorpalette', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, parseColor = kendo.parseColor, KEYS = kendo.keys, BACKGROUNDCOLOR = 'background-color', ITEMSELECTEDCLASS = 'k-state-selected', ITEMSFOCUSEDCLASS = 'k-state-focus', SIMPLEPALETTE = '000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7', WEBPALETTE = 'FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000', NS = '.kendoColorTools', CLICK_NS = 'click' + NS, KEYDOWN_NS = 'keydown' + NS, BLUR_NS = 'blur' + NS, ColorSelector = ui.colorpicker.ColorSelector;\n        function preventDefault(ev) {\n            ev.preventDefault();\n        }\n        function bind(callback, obj) {\n            return function () {\n                return callback.apply(obj, arguments);\n            };\n        }\n        function relative(array, element, delta) {\n            array = Array.prototype.slice.call(array);\n            var n = array.length;\n            var pos = array.indexOf(element);\n            if (pos < 0) {\n                return delta < 0 ? array[n - 1] : array[0];\n            }\n            pos += delta;\n            if (pos < 0) {\n                pos += n;\n            } else {\n                pos %= n;\n            }\n            return array[pos];\n        }\n        var ColorPalette = ColorSelector.extend({\n            init: function (element, options) {\n                var that = this;\n                ColorSelector.fn.init.call(that, element, options);\n                element = that.wrapper = that.element;\n                options = that.options;\n                var colors = options.palette || 'basic';\n                if (colors == 'websafe') {\n                    colors = WEBPALETTE;\n                    options.columns = 18;\n                } else if (colors == 'basic') {\n                    colors = SIMPLEPALETTE;\n                }\n                if (typeof colors == 'string') {\n                    colors = colors.split(',');\n                }\n                if ($.isArray(colors)) {\n                    colors = $.map(colors, function (x) {\n                        return parseColor(x);\n                    });\n                }\n                that._selectedID = (options.ariaId || kendo.guid()) + '_selected';\n                element.addClass('k-colorpalette').attr('role', 'grid').attr('aria-readonly', 'true').append($(that._template({\n                    colors: colors,\n                    columns: options.columns,\n                    tileSize: options.tileSize,\n                    value: that._value,\n                    id: options.ariaId\n                }))).on(CLICK_NS, '.k-colorpalette-tile', function (ev) {\n                    that._select(ev.currentTarget);\n                }).attr('tabIndex', that._tabIndex).on(KEYDOWN_NS, bind(that._keydown, that)).on(BLUR_NS, function () {\n                    that.wrapper.find('.k-colorpalette-tile').removeClass(ITEMSFOCUSEDCLASS);\n                });\n                var tileSize = options.tileSize, width, height;\n                if (tileSize) {\n                    if (/number|string/.test(typeof tileSize)) {\n                        width = height = parseFloat(tileSize);\n                    } else if (typeof tileSize == 'object') {\n                        width = parseFloat(tileSize.width);\n                        height = parseFloat(tileSize.height);\n                    } else {\n                        throw new Error('Unsupported value for the \\'tileSize\\' argument');\n                    }\n                    element.find('.k-colorpalette-tile').css({\n                        width: width,\n                        height: height\n                    });\n                }\n            },\n            focus: function () {\n                if (this.wrapper && !this.wrapper.is('[unselectable=\\'on\\']')) {\n                    this.wrapper.trigger('focus');\n                }\n            },\n            options: {\n                name: 'ColorPalette',\n                columns: 10,\n                tileSize: null,\n                palette: 'basic'\n            },\n            _onEnable: function (enable) {\n                if (enable) {\n                    this.wrapper.attr('tabIndex', this._tabIndex);\n                } else {\n                    this.wrapper.removeAttr('tabIndex');\n                }\n            },\n            _keydown: function (e) {\n                var selected, wrapper = this.wrapper, items = wrapper.find('.k-colorpalette-tile'), current = items.filter('.' + ITEMSFOCUSEDCLASS).get(0) || items.filter('.' + ITEMSELECTEDCLASS).get(0), keyCode = e.keyCode;\n                if (keyCode == KEYS.LEFT) {\n                    selected = relative(items, current, -1);\n                } else if (keyCode == KEYS.RIGHT) {\n                    selected = relative(items, current, 1);\n                } else if (keyCode == KEYS.DOWN) {\n                    selected = relative(items, current, this.options.columns);\n                } else if (keyCode == KEYS.UP) {\n                    selected = relative(items, current, -this.options.columns);\n                } else if (keyCode == KEYS.ENTER) {\n                    preventDefault(e);\n                    if (current) {\n                        this._select(current);\n                        this.trigger('forceSelect', { value: this.value() });\n                        return;\n                    }\n                } else if (keyCode == KEYS.ESC) {\n                    this._cancel();\n                }\n                if (selected) {\n                    preventDefault(e);\n                    this._current(selected);\n                    try {\n                        var color = parseColor(selected.css(BACKGROUNDCOLOR));\n                        this._triggerSelect(color);\n                    } catch (ex) {\n                    }\n                }\n            },\n            _select: function (item) {\n                var that = this, items = that.wrapper.find('.k-colorpalette-tile');\n                item = $(item);\n                ColorSelector.fn._select.call(that, item.css(BACKGROUNDCOLOR));\n                items.removeClass(ITEMSELECTEDCLASS);\n                item.addClass(ITEMSELECTEDCLASS);\n            },\n            _current: function (item) {\n                this.wrapper.find('.' + ITEMSFOCUSEDCLASS).removeClass(ITEMSFOCUSEDCLASS).attr('aria-selected', false).removeAttr('id');\n                $(item).addClass(ITEMSFOCUSEDCLASS).attr('aria-selected', true).attr('id', this._selectedID);\n                this.element.removeAttr('aria-activedescendant').attr('aria-activedescendant', this._selectedID);\n            },\n            _updateUI: function (color) {\n                var item = null, items = this.wrapper.find('.k-colorpalette-tile');\n                this.wrapper.find('.k-colorpalette-tile').each(function () {\n                    var c = parseColor($(this).css(BACKGROUNDCOLOR));\n                    if (c && c.equals(color)) {\n                        item = this;\n                        return false;\n                    }\n                });\n                this._current(item);\n                items.removeClass(ITEMSELECTEDCLASS);\n                if (item) {\n                    $(item).addClass(ITEMSELECTEDCLASS);\n                }\n            },\n            _template: kendo.template('<div class=\"k-colorpalette-table-wrap\">' + '<table class=\"k-colorpalette-table k-palette\" role=\"presentation\"><tr role=\"row\">' + '# for (var i = 0; i < colors.length; ++i) { #' + '# var selected = colors[i].equals(value); #' + '# if (i && i % columns == 0) { # </tr><tr role=\"row\"> # } #' + '<td role=\"gridcell\" unselectable=\"on\" style=\"background-color:#= colors[i].toCss() #\"' + '#= selected ? \" aria-selected=true\" : \"\" # ' + '#=(id && i === 0) ? \"id=\\\\\"\"+id+\"\\\\\" \" : \"\" # ' + 'class=\"k-colorpalette-tile#= selected ? \" ' + ITEMSELECTEDCLASS + '\" : \"\" #\" ' + 'aria-label=\"#= colors[i].toCss() #\"></td>' + '# } #' + '</tr></table></div>')\n        });\n        ui.plugin(ColorPalette);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('colorpicker/flatcolorpicker', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, Color = kendo.Color, BACKGROUNDCOLOR = 'background-color', MESSAGES = {\n                apply: 'Apply',\n                cancel: 'Cancel',\n                noColor: 'no color',\n                clearColor: 'Clear color',\n                previewInput: null,\n                contrastRatio: 'Contrast ratio:',\n                fail: 'Fail',\n                pass: 'Pass',\n                hex: 'HEX',\n                toggleFormat: 'Toggle format',\n                red: 'Red',\n                green: 'Green',\n                blue: 'Blue',\n                alpha: 'Alpha',\n                gradient: 'Gradient view',\n                palette: 'Palette view'\n            }, NS = '.kendoColorTools', CLICK_NS = 'click' + NS, KEYDOWN_NS = 'keydown' + NS, ColorSelector = ui.colorpicker.ColorSelector, KEYS = kendo.keys, NO_COLOR = 'k-no-color', SELECTED = 'k-state-selected', VIEWS = {\n                'gradient': ui.ColorGradient,\n                'palette': ui.ColorPalette\n            };\n        function bind(callback, obj) {\n            return function () {\n                return callback.apply(obj, arguments);\n            };\n        }\n        var FlatColorPicker = ColorSelector.extend({\n            init: function (element, options) {\n                var that = this;\n                if (options && options.autoupdate === false) {\n                    options._standalone = false;\n                }\n                ColorSelector.fn.init.call(that, element, options);\n                options = that.options = kendo.deepExtend({}, that.options, options);\n                element = that.element;\n                that.wrapper = element.addClass('k-flatcolorpicker k-coloreditor').append(that._template(options));\n                that._selectedColor = $('.k-coloreditor-preview-color', element);\n                that._previousColor = $('.k-coloreditor-current-color', element);\n                that._viewsContainer = $('.k-coloreditor-views', element);\n                element.find('.k-button[data-view=' + that.options.view + ']').addClass(SELECTED);\n                var value = that.color();\n                that._changeView(options.view);\n                that._setViewSize();\n                if (value) {\n                    that._updateUI(value);\n                    that._previousColor.css(BACKGROUNDCOLOR, value.toDisplay());\n                    that._selectedColor.css(BACKGROUNDCOLOR, value.toDisplay());\n                } else {\n                    that._selectedColor.addClass(NO_COLOR);\n                    that._previousColor.addClass(NO_COLOR);\n                }\n                element.on(KEYDOWN_NS, bind(that._keydown, that)).on(CLICK_NS, '.k-coloreditor-reset', function () {\n                    that._clearColor = true;\n                    that._updateUI(null);\n                    that._view.value(null);\n                }).on(CLICK_NS, '.k-coloreditor-apply', function () {\n                    if (that._clearColor) {\n                        that._select(null);\n                    } else {\n                        that._select(that._view.color());\n                    }\n                }).on(CLICK_NS, '.k-coloreditor-cancel', function () {\n                    delete that._clearColor;\n                    that._updateUI(that.color());\n                    that._cancel();\n                }).on(CLICK_NS, '.k-button[data-view]', function (ev) {\n                    var viewButton = $(ev.target).closest('[data-view]');\n                    if (viewButton.is('.' + SELECTED)) {\n                        return;\n                    }\n                    element.find('.k-button[data-view]').removeClass(SELECTED);\n                    viewButton.addClass(SELECTED);\n                    that._changeView(viewButton.data('view'));\n                });\n            },\n            destroy: function () {\n                var that = this;\n                ColorSelector.fn.destroy.call(this);\n                if (that._view) {\n                    that._view.destroy();\n                    that._viewsContainer.empty();\n                }\n                that.element.off(NS);\n                that._selectedColor = that._previousColor = that._viewsContainer = that._view = null;\n            },\n            options: {\n                name: 'FlatColorPicker',\n                opacity: false,\n                buttons: false,\n                input: true,\n                preview: true,\n                clearButton: false,\n                format: 'hex',\n                formats: [\n                    'rgb',\n                    'hex'\n                ],\n                view: 'gradient',\n                views: [\n                    'gradient',\n                    'palette'\n                ],\n                palette: null,\n                autoupdate: true,\n                backgroundColor: null,\n                columns: 10,\n                tileSize: 24,\n                messages: MESSAGES\n            },\n            setBackgroundColor: function (color) {\n                var that = this;\n                if (that._view && that._view.setBackgroundColor) {\n                    that._view.setBackgroundColor(color);\n                }\n            },\n            _select: function (value) {\n                var that = this;\n                ColorSelector.fn._select.call(that, value);\n                that._updatePreviousColor(value);\n            },\n            _updatePreviousColor: function (value) {\n                var that = this;\n                if (value) {\n                    that._previousColor.removeClass(NO_COLOR);\n                    that._previousColor.css(BACKGROUNDCOLOR, value.toDisplay());\n                } else {\n                    that._previousColor.addClass(NO_COLOR);\n                    that._previousColor.css(BACKGROUNDCOLOR, '');\n                }\n            },\n            _changeView: function (mode) {\n                var that = this, options = $.extend({}, that.options), selector = VIEWS[mode], selectedColor, hsvColor;\n                if (that._view && that._view._colorInput) {\n                    that.options.format = that._view._colorInput._viewModel.format;\n                }\n                that.options.view = mode;\n                delete options.name;\n                delete options.change;\n                delete options.select;\n                delete options.cancel;\n                delete options._standalone;\n                if (that._view) {\n                    selectedColor = that._view.color();\n                    that._view.destroy();\n                    that._viewsContainer.empty();\n                }\n                if (selectedColor) {\n                    selectedColor = selectedColor.toHSV();\n                    hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                    that._cachedHue = selectedColor.toHSV().h;\n                    selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                }\n                if (selector) {\n                    that._view = new VIEWS[mode]($('<div></div>').appendTo(that._viewsContainer), options);\n                    that._view.value(selectedColor);\n                    that._view.bind('change', function (ev) {\n                        delete that._clearColor;\n                        that._updateUI(ev.sender.color(), true);\n                    });\n                    that._view.bind('forceSelect', function (ev) {\n                        delete that._clearColor;\n                        that._select(ev.sender.color());\n                    });\n                }\n            },\n            _onEnable: function (enable) {\n                var that = this;\n                if (that._view) {\n                    that._view._onEnable(enable);\n                }\n            },\n            focus: function () {\n                var that = this;\n                if (that._view) {\n                    that._view.focus();\n                }\n            },\n            _updateUI: function (color, dontChangeView) {\n                var that = this;\n                if (color && color.toDisplay) {\n                    that._selectedColor.removeClass(NO_COLOR);\n                    that._selectedColor.css(BACKGROUNDCOLOR, color.toDisplay());\n                } else {\n                    that._selectedColor.addClass(NO_COLOR);\n                    that._selectedColor.css(BACKGROUNDCOLOR, '');\n                }\n                that._triggerSelect(color);\n                if (that.options.autoupdate) {\n                    that._updatePreviousColor(color);\n                }\n                if (!dontChangeView) {\n                    that._view.value(color);\n                }\n            },\n            _setViewSize: function () {\n                var that = this, wrapper = that.wrapper[0], previewWidth = parseInt(that.options.tileSize.width || that.options.tileSize, 10), previewHeight = parseInt(that.options.tileSize.width || that.options.tileSize, 10), previewColumns = that.options.columns;\n                wrapper.style.setProperty('--kendo-color-preview-columns', previewColumns);\n                wrapper.style.setProperty('--kendo-color-preview-width', previewWidth + 'px');\n                wrapper.style.setProperty('--kendo-color-preview-height', previewHeight + 'px');\n            },\n            _keydown: function (e) {\n                if (e.keyCode == KEYS.ESC) {\n                    this._cancel();\n                }\n            },\n            _template: kendo.template('<div class=\"k-coloreditor-header k-hstack\">' + '# if (views && views.length > 1) { #' + '<div class=\"k-coloreditor-header-actions k-hstack\">' + '<div class=\"k-button-group k-button-group-flat\">' + '<button class=\"k-button k-icon-button k-flat\" data-view=\"gradient\" title=\"#:messages.gradient#\">' + '<span class=\"k-button-icon k-icon k-i-color-canvas\"></span>' + '</button>' + '<button class=\"k-button k-icon-button k-flat\" data-view=\"palette\" title=\"#:messages.palette#\">' + '<span class=\"k-button-icon k-icon k-i-palette\"></span>' + '</button>' + '</div>' + '</div>' + '# } #' + '<div class=\"k-spacer\"></div>' + '<div class=\"k-coloreditor-header-actions k-hstack\">' + '# if (clearButton) { #' + '<button class=\"k-coloreditor-reset k-button k-icon-button k-flat\" title=\"#:messages.clearColor#\">' + '<span class=\"k-button-icon k-icon k-i-reset-color\"></span>' + '</button>' + '# } #' + '# if (preview) { #' + '<div class=\"k-coloreditor-preview k-vstack\">' + '<span class=\"k-coloreditor-preview-color k-color-preview\"></span>' + '<span class=\"k-coloreditor-current-color k-color-preview\"></span>' + '</div>' + '# } #' + '</div>' + '</div>' + '<div class=\"k-coloreditor-views k-vstack\"></div>' + '# if (buttons) { #' + '<div class=\"k-coloreditor-footer k-actions k-hstack k-justify-content-end\">' + '<button class=\"k-coloreditor-cancel k-button\" title=\"#:messages.cancel#\">#: messages.cancel #</button>' + '<button class=\"k-coloreditor-apply k-button k-primary\" title=\"#:messages.apply#\">#: messages.apply #</button>' + '</div>' + '# } #')\n        });\n        ui.plugin(FlatColorPicker);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.colorpicker', [\n        'kendo.core',\n        'kendo.color',\n        'kendo.popup',\n        'kendo.slider',\n        'kendo.userevents',\n        'kendo.button',\n        'kendo.binder',\n        'kendo.textbox',\n        'kendo.numerictextbox',\n        'colorpicker/colorselector',\n        'colorpicker/colorgradient',\n        'colorpicker/colorpalette',\n        'colorpicker/flatcolorpicker'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'colorpicker',\n        name: 'Color tools',\n        category: 'web',\n        description: 'Color selection widgets',\n        depends: [\n            'core',\n            'color',\n            'popup',\n            'slider',\n            'userevents',\n            'button',\n            'binder',\n            'textbox',\n            'numerictextbox'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, Widget = ui.Widget, Color = kendo.Color, parseColor = kendo.parseColor, KEYS = kendo.keys, BACKGROUNDCOLOR = 'background-color', WHITE = '#ffffff', MESSAGES = {\n                apply: 'Apply',\n                cancel: 'Cancel',\n                noColor: 'no color',\n                clearColor: 'Clear color',\n                previewInput: null,\n                contrastRatio: 'Contrast ratio:',\n                fail: 'Fail',\n                pass: 'Pass',\n                hex: 'HEX',\n                toggleFormat: 'Toggle format',\n                red: 'Red',\n                green: 'Green',\n                blue: 'Blue',\n                alpha: 'Alpha',\n                gradient: 'Gradient view',\n                palette: 'Palette view'\n            }, NS = '.kendoColorTools', CLICK_NS = 'click' + NS, KEYDOWN_NS = 'keydown' + NS, ColorSelector = ui.colorpicker.ColorSelector, FlatColorPicker = ui.FlatColorPicker;\n        var ColorPicker = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                if (options && options.palette && !options.view) {\n                    options.view = 'palette';\n                }\n                Widget.fn.init.call(that, element, options);\n                options = that.options = kendo.deepExtend({}, that.options, options);\n                element = that.element;\n                var value = element.attr('value') || element.val();\n                if (value) {\n                    value = parseColor(value, true);\n                } else {\n                    value = parseColor(options.value, true);\n                }\n                that._value = options.value = value;\n                var content = that.wrapper = $(that._template(options));\n                element.hide().after(content);\n                that._inputWrapper = $(that.wrapper[0].firstChild);\n                if (element.is('input')) {\n                    element.appendTo(content);\n                    var label = element.closest('label');\n                    var id = element.attr('id');\n                    if (id) {\n                        label = label.add('label[for=\"' + id + '\"]');\n                    }\n                    label.on('click', function (ev) {\n                        that.open();\n                        ev.preventDefault();\n                    });\n                }\n                that._tabIndex = element.attr('tabIndex') || 0;\n                that.enable(!element.attr('disabled'));\n                var accesskey = element.attr('accesskey');\n                if (accesskey) {\n                    element.attr('accesskey', null);\n                    content.attr('accesskey', accesskey);\n                }\n                that.bind('activate', function (ev) {\n                    if (!ev.isDefaultPrevented()) {\n                        that.toggle();\n                    }\n                });\n                that._updateUI(value);\n            },\n            destroy: function () {\n                this.wrapper.off(NS).find('*').off(NS);\n                if (this._popup) {\n                    this._selector.destroy();\n                    this._popup.destroy();\n                }\n                this._selector = this._popup = this.wrapper = null;\n                Widget.fn.destroy.call(this);\n            },\n            enable: function (enable) {\n                var that = this, wrapper = that.wrapper, innerWrapper = wrapper.children('.k-picker-wrap'), arrow = innerWrapper.find('.k-select');\n                if (arguments.length === 0) {\n                    enable = true;\n                }\n                that.element.attr('disabled', !enable);\n                wrapper.attr('aria-disabled', !enable);\n                arrow.off(NS).on('mousedown' + NS, preventDefault);\n                wrapper.addClass('k-state-disabled').removeAttr('tabIndex').add('*', wrapper).off(NS);\n                if (enable) {\n                    wrapper.removeClass('k-state-disabled').attr('tabIndex', that._tabIndex).on('mouseenter' + NS, function () {\n                        innerWrapper.addClass('k-state-hover');\n                    }).on('mouseleave' + NS, function () {\n                        innerWrapper.removeClass('k-state-hover');\n                    }).on('focus' + NS, function () {\n                        innerWrapper.addClass('k-state-focused');\n                    }).on('blur' + NS, function () {\n                        innerWrapper.removeClass('k-state-focused');\n                    }).on(KEYDOWN_NS, bind(that._keydown, that)).on(CLICK_NS, '.k-select', bind(that.toggle, that)).on(CLICK_NS, that.options.toolIcon ? '.k-tool-icon' : '.k-selected-color', function () {\n                        that.trigger('activate');\n                    });\n                } else {\n                    that.close();\n                }\n            },\n            _template: kendo.template('<div role=\"textbox\" aria-haspopup=\"true\" class=\"k-colorpicker\">' + '<span  class=\"k-picker-wrap\">' + '# if (toolIcon) { #' + '<span class=\"k-icon k-tool-icon #= toolIcon #\">' + '<span class=\"k-selected-color\"></span>' + '</span>' + '# } else { #' + '<span class=\"k-selected-color\"></span>' + '# } #' + '<span role=\"button\" class=\"k-select\" unselectable=\"on\" aria-label=\"select\">' + '<span class=\"k-icon k-i-arrow-s\"></span>' + '</span>' + '</span >' + '</div>'),\n            options: {\n                name: 'ColorPicker',\n                closeOnSelect: false,\n                contrastTool: false,\n                palette: null,\n                columns: 10,\n                toolIcon: null,\n                value: null,\n                messages: MESSAGES,\n                opacity: false,\n                buttons: true,\n                preview: true,\n                clearButton: false,\n                input: true,\n                format: 'hex',\n                formats: [\n                    'rgb',\n                    'hex'\n                ],\n                view: 'gradient',\n                views: [\n                    'gradient',\n                    'palette'\n                ],\n                backgroundColor: null,\n                ARIATemplate: 'Current selected color is #=data || \"\"#'\n            },\n            events: [\n                'activate',\n                'change',\n                'select',\n                'open',\n                'close'\n            ],\n            open: function () {\n                if (!this.element.prop('disabled')) {\n                    this._getPopup().open();\n                }\n            },\n            close: function () {\n                var selOptions = this._selector && this._selector.options || {};\n                selOptions._closing = true;\n                this._getPopup().close();\n                delete selOptions._closing;\n            },\n            toggle: function () {\n                if (!this.element.prop('disabled')) {\n                    this._getPopup().toggle();\n                }\n            },\n            setBackgroundColor: function (color) {\n                var that = this, handler = function () {\n                        that._selector.setBackgroundColor(color);\n                    };\n                that.options.contrastTool.backgroundColor = color;\n                if (that._selector && (that._popup && that._popup.visible())) {\n                    that._selector.setBackgroundColor(color);\n                } else if (that._popup) {\n                    that._popup.unbind('activate', handler);\n                    that._popup.bind('activate', handler);\n                }\n            },\n            _noColorIcon: function () {\n                return this.wrapper.find('.k-picker-wrap > .k-selected-color');\n            },\n            color: ColorSelector.fn.color,\n            value: ColorSelector.fn.value,\n            _select: ColorSelector.fn._select,\n            _triggerSelect: ColorSelector.fn._triggerSelect,\n            _isInputTypeColor: function () {\n                var el = this.element[0];\n                return /^input$/i.test(el.tagName) && /^color$/i.test(el.type);\n            },\n            _updateUI: function (value, dontChangeSelector) {\n                var formattedValue = '';\n                if (value) {\n                    if (this._isInputTypeColor() || value.a == 1) {\n                        formattedValue = value.toCss();\n                    } else {\n                        formattedValue = value.toCssRgba();\n                    }\n                    this.element.val(formattedValue);\n                }\n                if (!this._ariaTemplate) {\n                    this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                }\n                this.wrapper.attr('aria-label', this._ariaTemplate(formattedValue));\n                this._triggerSelect(value);\n                this.wrapper.find('.k-selected-color').css(BACKGROUNDCOLOR, value ? value.toDisplay() : WHITE);\n                this._noColorIcon().toggleClass('k-no-color', !formattedValue);\n                if (this._selector && !dontChangeSelector) {\n                    this._selector.value(value);\n                }\n            },\n            _keydown: function (ev) {\n                var key = ev.keyCode;\n                if (this._getPopup().visible()) {\n                    if (key == KEYS.ESC) {\n                        this._selector._cancel();\n                    } else {\n                        this._selector._keydown(ev);\n                    }\n                    preventDefault(ev);\n                } else if (key == KEYS.ENTER || key == KEYS.DOWN) {\n                    this.open();\n                    preventDefault(ev);\n                }\n            },\n            _getPopup: function () {\n                var that = this, popup = that._popup;\n                if (!popup) {\n                    var options = that.options;\n                    var selectorType;\n                    selectorType = FlatColorPicker;\n                    options.autoupdate = options.buttons !== true;\n                    delete options.select;\n                    delete options.change;\n                    delete options.cancel;\n                    var id = kendo.guid();\n                    var selectorWrapper = $('<div id=\"' + id + '\" class=\"k-colorpicker-popup\"></div>').appendTo(document.body);\n                    var selector = that._selector = new selectorType($('<div></div>').appendTo(selectorWrapper), options);\n                    that.wrapper.attr('aria-owns', id);\n                    that._popup = popup = selectorWrapper.kendoPopup({\n                        anchor: that.wrapper,\n                        adjustSize: {\n                            width: 5,\n                            height: 0\n                        }\n                    }).data('kendoPopup');\n                    selector.bind({\n                        select: function (ev) {\n                            that._updateUI(parseColor(ev.value), true);\n                        },\n                        change: function (ev) {\n                            if (that.options.buttons) {\n                                that._select(selector.color());\n                            } else {\n                                that._updateUI(parseColor(ev.value), true);\n                            }\n                            if (that.options.buttons || that._selector.options.view === 'palette' && that.options.closeOnSelect) {\n                                that.close();\n                            }\n                        },\n                        cancel: function () {\n                            that.close();\n                        }\n                    });\n                    popup.bind({\n                        close: function (ev) {\n                            if (that.trigger('close')) {\n                                ev.preventDefault();\n                                return;\n                            }\n                            that.wrapper.children('.k-picker-wrap').removeClass('k-state-focused');\n                            var color = selector.color();\n                            if (!that.options.buttons) {\n                                that._select(color);\n                            } else {\n                                that._select(that.color());\n                            }\n                            color = that.color();\n                            if (color && color.h) {\n                                that._cachedHue = color.h;\n                            }\n                            setTimeout(function () {\n                                if (that.wrapper && !that.wrapper.is('[unselectable=\\'on\\']')) {\n                                    that.wrapper.trigger('focus');\n                                }\n                            }, 0);\n                        },\n                        open: function (ev) {\n                            if (that.trigger('open')) {\n                                ev.preventDefault();\n                            } else {\n                                that.wrapper.children('.k-picker-wrap').addClass('k-state-focused');\n                            }\n                        },\n                        activate: function () {\n                            var hsvColor, selectedColor = that.color();\n                            if (selectedColor) {\n                                selectedColor = selectedColor.toHSV();\n                                hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                                selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                            }\n                            selector.value(selectedColor);\n                            selector.focus();\n                            that.wrapper.children('.k-picker-wrap').addClass('k-state-focused');\n                        }\n                    });\n                }\n                return popup;\n            }\n        });\n        function preventDefault(ev) {\n            ev.preventDefault();\n        }\n        function bind(callback, obj) {\n            return function () {\n                return callback.apply(obj, arguments);\n            };\n        }\n        ui.plugin(ColorPicker);\n    }(jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}